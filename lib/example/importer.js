"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    importer: function() {
        return importer;
    },
    initialMarkdown: function() {
        return initialMarkdown;
    }
});
var _index = require("../index");
var _constants = require("./constants");
function _define_property(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true
        });
    } else {
        obj[key] = value;
    }
    return obj;
}
var markdownLexer = _index.MarkdownLexer.fromNothing(), markdownParser = _index.MarkdownParser.fromNothing();
function importer(filePath, context) {
    var content = contentMap[filePath] || null;
    if (content !== null) {
        var startRule = markdownParser.getStartRule(), tokens = markdownLexer.tokenise(content), node = markdownParser.parse(tokens, startRule), importedNode = node, importedTokens = tokens, importedClassName = classNameFromFilePath(filePath);
        Object.assign(context, {
            importedNode: importedNode,
            importedTokens: importedTokens,
            importedClassName: importedClassName
        });
    }
}
function classNameFromFilePath(filePath) {
    var className = filePath.replace(/\.md/, _constants.EMPTY_STRING);
    return className;
}
var INDEX_PATH = "index.md", CONTENT_PATH = "content.md", CONTENTS_PATH = "contents.md", HALF_TITLE_PATH = "half-title.md", FRONT_MATTER_PATH = "front-matter.md", INTRODUCTION_PATH = "introduction.md", GETTING_STARTED_PATH = "getting-started.md", INSTALLING_THE_CLI_PATH = "installing-the-cli.md", GETTING_TO_GRIPS_WITH_THE_IDE_PATH = "getting-to-grips-with-the-ide.md";
var initialMarkdown = "## Index\n\n@index";
var indexContent = "## Index\n\n@index", contentContent = "@ignore\n\n@include ".concat(GETTING_STARTED_PATH), contentsContent = "## Contents\n\n@contents", halfTitleContent = "# Occam", frontMatterContent = "@ignore\n\n@include ".concat(HALF_TITLE_PATH, "\n@include ").concat(CONTENTS_PATH, "\n@include ").concat(INTRODUCTION_PATH), introductionContent = "# Introduction\n      \nConstructor.\n\n@footnotes\n\n@pageNumber\n", gettingStartedContent = "# Getting started\n      \nA short paragraph with a reference to a footnote[^occam].\n\n[^occam]: The word Occam is used somewhat nebulously here.\nIt is most often associated with Occam's IDE but in fact it encompasses a range of software and services.\nThis book explains these divers parts and there is a companion book, called The Foundations of Symbolic Reasoning, that covers the underlying theory.\n\n@footnotes\n\n@include ".concat(INSTALLING_THE_CLI_PATH, "\n@include ").concat(GETTING_TO_GRIPS_WITH_THE_IDE_PATH, "\n\n@pageNumber\n"), installingTheCLIContent = "## Installing the CLI\n\n@pageNumber\n", gettingToGripsWithTheIDEIContent = "## Getting to grips with the IDE\n            \n* An unordered list to test...\n* ...the indexing.\n      \n1. As well as an...\n2. ...ordered list.\n      \n@pageNumber\n";
var _obj;
var contentMap = (_obj = {}, _define_property(_obj, INDEX_PATH, indexContent), _define_property(_obj, CONTENT_PATH, contentContent), _define_property(_obj, CONTENTS_PATH, contentsContent), _define_property(_obj, HALF_TITLE_PATH, halfTitleContent), _define_property(_obj, FRONT_MATTER_PATH, frontMatterContent), _define_property(_obj, INTRODUCTION_PATH, introductionContent), _define_property(_obj, GETTING_STARTED_PATH, gettingStartedContent), _define_property(_obj, INSTALLING_THE_CLI_PATH, installingTheCLIContent), _define_property(_obj, GETTING_TO_GRIPS_WITH_THE_IDE_PATH, gettingToGripsWithTheIDEIContent), _obj);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9leGFtcGxlL2ltcG9ydGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgeyBNYXJrZG93bkxleGVyLCBNYXJrZG93blBhcnNlciB9IGZyb20gXCIuLi9pbmRleFwiO1xuXG5pbXBvcnQgeyBFTVBUWV9TVFJJTkcgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcblxuY29uc3QgbWFya2Rvd25MZXhlciA9IE1hcmtkb3duTGV4ZXIuZnJvbU5vdGhpbmcoKSxcbiAgICAgIG1hcmtkb3duUGFyc2VyID0gTWFya2Rvd25QYXJzZXIuZnJvbU5vdGhpbmcoKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGltcG9ydGVyKGZpbGVQYXRoLCBjb250ZXh0KSB7XG4gIGNvbnN0IGNvbnRlbnQgPSBjb250ZW50TWFwW2ZpbGVQYXRoXSB8fCBudWxsO1xuXG4gIGlmIChjb250ZW50ICE9PSBudWxsKSB7XG4gICAgY29uc3Qgc3RhcnRSdWxlID0gbWFya2Rvd25QYXJzZXIuZ2V0U3RhcnRSdWxlKCksXG4gICAgICAgICAgdG9rZW5zID0gbWFya2Rvd25MZXhlci50b2tlbmlzZShjb250ZW50KSxcbiAgICAgICAgICBub2RlID0gbWFya2Rvd25QYXJzZXIucGFyc2UodG9rZW5zLCBzdGFydFJ1bGUpLFxuICAgICAgICAgIGltcG9ydGVkTm9kZSA9IG5vZGUsICAvLy9cbiAgICAgICAgICBpbXBvcnRlZFRva2VucyA9IHRva2VucyxcbiAgICAgICAgICBpbXBvcnRlZENsYXNzTmFtZSA9IGNsYXNzTmFtZUZyb21GaWxlUGF0aChmaWxlUGF0aCk7XG5cbiAgICBPYmplY3QuYXNzaWduKGNvbnRleHQsIHtcbiAgICAgIGltcG9ydGVkTm9kZSxcbiAgICAgIGltcG9ydGVkVG9rZW5zLFxuICAgICAgaW1wb3J0ZWRDbGFzc05hbWVcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjbGFzc05hbWVGcm9tRmlsZVBhdGgoZmlsZVBhdGgpIHtcbiAgY29uc3QgY2xhc3NOYW1lID0gZmlsZVBhdGgucmVwbGFjZSgvXFwubWQvLCBFTVBUWV9TVFJJTkcpO1xuXG4gIHJldHVybiBjbGFzc05hbWU7XG59XG5cbmNvbnN0IElOREVYX1BBVEggPSBcImluZGV4Lm1kXCIsXG4gICAgICBDT05URU5UX1BBVEggPSBcImNvbnRlbnQubWRcIixcbiAgICAgIENPTlRFTlRTX1BBVEggPSBcImNvbnRlbnRzLm1kXCIsXG4gICAgICBIQUxGX1RJVExFX1BBVEggPSBcImhhbGYtdGl0bGUubWRcIixcbiAgICAgIEZST05UX01BVFRFUl9QQVRIID0gXCJmcm9udC1tYXR0ZXIubWRcIixcbiAgICAgIElOVFJPRFVDVElPTl9QQVRIID0gXCJpbnRyb2R1Y3Rpb24ubWRcIixcbiAgICAgIEdFVFRJTkdfU1RBUlRFRF9QQVRIID0gXCJnZXR0aW5nLXN0YXJ0ZWQubWRcIixcbiAgICAgIElOU1RBTExJTkdfVEhFX0NMSV9QQVRIID0gXCJpbnN0YWxsaW5nLXRoZS1jbGkubWRcIixcbiAgICAgIEdFVFRJTkdfVE9fR1JJUFNfV0lUSF9USEVfSURFX1BBVEggPSBcImdldHRpbmctdG8tZ3JpcHMtd2l0aC10aGUtaWRlLm1kXCI7XG5cbi8vIGV4cG9ydCBjb25zdCBpbml0aWFsTWFya2Rvd24gPSBgQGlnbm9yZVxuLy9cbi8vIEBpbmNsdWRlICR7RlJPTlRfTUFUVEVSX1BBVEh9XG4vLyBAaW5jbHVkZSAke0NPTlRFTlRfUEFUSH1cbi8vIEBpbmNsdWRlICR7SU5ERVhfUEFUSH1cbi8vIGA7XG5cbmV4cG9ydCBjb25zdCBpbml0aWFsTWFya2Rvd24gPSBgIyMgSW5kZXhcblxuQGluZGV4YDtcblxuY29uc3QgaW5kZXhDb250ZW50ID0gYCMjIEluZGV4XG5cbkBpbmRleGAsXG5cbiAgICAgIGNvbnRlbnRDb250ZW50ID0gYEBpZ25vcmVcblxuQGluY2x1ZGUgJHtHRVRUSU5HX1NUQVJURURfUEFUSH1gLFxuXG4gICAgICBjb250ZW50c0NvbnRlbnQgPSBgIyMgQ29udGVudHNcblxuQGNvbnRlbnRzYCxcblxuICAgICAgaGFsZlRpdGxlQ29udGVudCA9IGAjIE9jY2FtYCxcblxuICAgICAgZnJvbnRNYXR0ZXJDb250ZW50ID0gYEBpZ25vcmVcblxuQGluY2x1ZGUgJHtIQUxGX1RJVExFX1BBVEh9XG5AaW5jbHVkZSAke0NPTlRFTlRTX1BBVEh9XG5AaW5jbHVkZSAke0lOVFJPRFVDVElPTl9QQVRIfWAsXG5cbiAgICAgIGludHJvZHVjdGlvbkNvbnRlbnQgPSBgIyBJbnRyb2R1Y3Rpb25cbiAgICAgIFxuQ29uc3RydWN0b3IuXG5cbkBmb290bm90ZXNcblxuQHBhZ2VOdW1iZXJcbmAsXG5cbiAgICAgIGdldHRpbmdTdGFydGVkQ29udGVudCA9IGAjIEdldHRpbmcgc3RhcnRlZFxuICAgICAgXG5BIHNob3J0IHBhcmFncmFwaCB3aXRoIGEgcmVmZXJlbmNlIHRvIGEgZm9vdG5vdGVbXm9jY2FtXS5cblxuW15vY2NhbV06IFRoZSB3b3JkIE9jY2FtIGlzIHVzZWQgc29tZXdoYXQgbmVidWxvdXNseSBoZXJlLlxuSXQgaXMgbW9zdCBvZnRlbiBhc3NvY2lhdGVkIHdpdGggT2NjYW0ncyBJREUgYnV0IGluIGZhY3QgaXQgZW5jb21wYXNzZXMgYSByYW5nZSBvZiBzb2Z0d2FyZSBhbmQgc2VydmljZXMuXG5UaGlzIGJvb2sgZXhwbGFpbnMgdGhlc2UgZGl2ZXJzIHBhcnRzIGFuZCB0aGVyZSBpcyBhIGNvbXBhbmlvbiBib29rLCBjYWxsZWQgVGhlIEZvdW5kYXRpb25zIG9mIFN5bWJvbGljIFJlYXNvbmluZywgdGhhdCBjb3ZlcnMgdGhlIHVuZGVybHlpbmcgdGhlb3J5LlxuXG5AZm9vdG5vdGVzXG5cbkBpbmNsdWRlICR7SU5TVEFMTElOR19USEVfQ0xJX1BBVEh9XG5AaW5jbHVkZSAke0dFVFRJTkdfVE9fR1JJUFNfV0lUSF9USEVfSURFX1BBVEh9XG5cbkBwYWdlTnVtYmVyXG5gLFxuXG4gICAgICBpbnN0YWxsaW5nVGhlQ0xJQ29udGVudCA9IGAjIyBJbnN0YWxsaW5nIHRoZSBDTElcblxuQHBhZ2VOdW1iZXJcbmAsXG5cbiAgICAgIGdldHRpbmdUb0dyaXBzV2l0aFRoZUlERUlDb250ZW50ID0gYCMjIEdldHRpbmcgdG8gZ3JpcHMgd2l0aCB0aGUgSURFXG4gICAgICAgICAgICBcbiogQW4gdW5vcmRlcmVkIGxpc3QgdG8gdGVzdC4uLlxuKiAuLi50aGUgaW5kZXhpbmcuXG4gICAgICBcbjEuIEFzIHdlbGwgYXMgYW4uLi5cbjIuIC4uLm9yZGVyZWQgbGlzdC5cbiAgICAgIFxuQHBhZ2VOdW1iZXJcbmA7XG5cbmNvbnN0IGNvbnRlbnRNYXAgPSB7XG5cbiAgW0lOREVYX1BBVEhdOiBpbmRleENvbnRlbnQsXG4gIFtDT05URU5UX1BBVEhdOiBjb250ZW50Q29udGVudCxcbiAgW0NPTlRFTlRTX1BBVEhdOiBjb250ZW50c0NvbnRlbnQsXG4gIFtIQUxGX1RJVExFX1BBVEhdOiBoYWxmVGl0bGVDb250ZW50LFxuICBbRlJPTlRfTUFUVEVSX1BBVEhdOiBmcm9udE1hdHRlckNvbnRlbnQsXG4gIFtJTlRST0RVQ1RJT05fUEFUSF06IGludHJvZHVjdGlvbkNvbnRlbnQsXG4gIFtHRVRUSU5HX1NUQVJURURfUEFUSF06IGdldHRpbmdTdGFydGVkQ29udGVudCxcbiAgW0lOU1RBTExJTkdfVEhFX0NMSV9QQVRIXTogaW5zdGFsbGluZ1RoZUNMSUNvbnRlbnQsXG4gIFtHRVRUSU5HX1RPX0dSSVBTX1dJVEhfVEhFX0lERV9QQVRIXTogZ2V0dGluZ1RvR3JpcHNXaXRoVGhlSURFSUNvbnRlbnRcblxufTtcbiJdLCJuYW1lcyI6WyJpbXBvcnRlciIsImluaXRpYWxNYXJrZG93biIsIm1hcmtkb3duTGV4ZXIiLCJNYXJrZG93bkxleGVyIiwiZnJvbU5vdGhpbmciLCJtYXJrZG93blBhcnNlciIsIk1hcmtkb3duUGFyc2VyIiwiZmlsZVBhdGgiLCJjb250ZXh0IiwiY29udGVudCIsImNvbnRlbnRNYXAiLCJzdGFydFJ1bGUiLCJnZXRTdGFydFJ1bGUiLCJ0b2tlbnMiLCJ0b2tlbmlzZSIsIm5vZGUiLCJwYXJzZSIsImltcG9ydGVkTm9kZSIsImltcG9ydGVkVG9rZW5zIiwiaW1wb3J0ZWRDbGFzc05hbWUiLCJjbGFzc05hbWVGcm9tRmlsZVBhdGgiLCJPYmplY3QiLCJhc3NpZ24iLCJjbGFzc05hbWUiLCJyZXBsYWNlIiwiRU1QVFlfU1RSSU5HIiwiSU5ERVhfUEFUSCIsIkNPTlRFTlRfUEFUSCIsIkNPTlRFTlRTX1BBVEgiLCJIQUxGX1RJVExFX1BBVEgiLCJGUk9OVF9NQVRURVJfUEFUSCIsIklOVFJPRFVDVElPTl9QQVRIIiwiR0VUVElOR19TVEFSVEVEX1BBVEgiLCJJTlNUQUxMSU5HX1RIRV9DTElfUEFUSCIsIkdFVFRJTkdfVE9fR1JJUFNfV0lUSF9USEVfSURFX1BBVEgiLCJpbmRleENvbnRlbnQiLCJjb250ZW50Q29udGVudCIsImNvbnRlbnRzQ29udGVudCIsImhhbGZUaXRsZUNvbnRlbnQiLCJmcm9udE1hdHRlckNvbnRlbnQiLCJpbnRyb2R1Y3Rpb25Db250ZW50IiwiZ2V0dGluZ1N0YXJ0ZWRDb250ZW50IiwiaW5zdGFsbGluZ1RoZUNMSUNvbnRlbnQiLCJnZXR0aW5nVG9Hcmlwc1dpdGhUaGVJREVJQ29udGVudCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7O0lBU2dCQSxRQUFRO2VBQVJBOztJQTBDSEMsZUFBZTtlQUFmQTs7O3FCQWpEaUM7eUJBRWpCOzs7Ozs7Ozs7Ozs7OztBQUU3QixJQUFNQyxnQkFBZ0JDLG9CQUFhLENBQUNDLFdBQVcsSUFDekNDLGlCQUFpQkMscUJBQWMsQ0FBQ0YsV0FBVztBQUUxQyxTQUFTSixTQUFTTyxRQUFRLEVBQUVDLE9BQU87SUFDeEMsSUFBTUMsVUFBVUMsVUFBVSxDQUFDSCxTQUFTLElBQUk7SUFFeEMsSUFBSUUsWUFBWSxNQUFNO1FBQ3BCLElBQU1FLFlBQVlOLGVBQWVPLFlBQVksSUFDdkNDLFNBQVNYLGNBQWNZLFFBQVEsQ0FBQ0wsVUFDaENNLE9BQU9WLGVBQWVXLEtBQUssQ0FBQ0gsUUFBUUYsWUFDcENNLGVBQWVGLE1BQ2ZHLGlCQUFpQkwsUUFDakJNLG9CQUFvQkMsc0JBQXNCYjtRQUVoRGMsT0FBT0MsTUFBTSxDQUFDZCxTQUFTO1lBQ3JCUyxjQUFBQTtZQUNBQyxnQkFBQUE7WUFDQUMsbUJBQUFBO1FBQ0Y7SUFDRjtBQUNGO0FBRUEsU0FBU0Msc0JBQXNCYixRQUFRO0lBQ3JDLElBQU1nQixZQUFZaEIsU0FBU2lCLE9BQU8sQ0FBQyxRQUFRQyx1QkFBWTtJQUV2RCxPQUFPRjtBQUNUO0FBRUEsSUFBTUcsYUFBYSxZQUNiQyxlQUFlLGNBQ2ZDLGdCQUFnQixlQUNoQkMsa0JBQWtCLGlCQUNsQkMsb0JBQW9CLG1CQUNwQkMsb0JBQW9CLG1CQUNwQkMsdUJBQXVCLHNCQUN2QkMsMEJBQTBCLHlCQUMxQkMscUNBQXFDO0FBU3BDLElBQU1qQyxrQkFBbUI7QUFJaEMsSUFBTWtDLGVBQWdCLHNCQUloQkMsaUJBQWlCLEFBQUMsdUJBRVEsT0FBckJKLHVCQUVMSyxrQkFBbUIsNEJBSW5CQyxtQkFBb0IsV0FFcEJDLHFCQUFxQixBQUFDLHVCQUdqQlgsT0FEQUMsaUJBQWdCLGVBRWhCRSxPQURBSCxlQUFjLGVBQ0ksT0FBbEJHLG9CQUVMUyxzQkFBdUIsdUVBU3ZCQyx3QkFBd0IsQUFBQyxrYkFXcEJQLE9BREFELHlCQUF3QixlQUNXLE9BQW5DQyxvQ0FBbUMsc0JBS3hDUSwwQkFBMkIsMENBSzNCQyxtQ0FBb0M7SUFXdkI7QUFBbkIsSUFBTWpDLGNBQWEsV0FFakIsaUJBRmlCLE1BRWhCZ0IsWUFBYVMsZUFDZCxpQkFIaUIsTUFHaEJSLGNBQWVTLGlCQUNoQixpQkFKaUIsTUFJaEJSLGVBQWdCUyxrQkFDakIsaUJBTGlCLE1BS2hCUixpQkFBa0JTLG1CQUNuQixpQkFOaUIsTUFNaEJSLG1CQUFvQlMscUJBQ3JCLGlCQVBpQixNQU9oQlIsbUJBQW9CUyxzQkFDckIsaUJBUmlCLE1BUWhCUixzQkFBdUJTLHdCQUN4QixpQkFUaUIsTUFTaEJSLHlCQUEwQlMsMEJBQzNCLGlCQVZpQixNQVVoQlIsb0NBQXFDUyxtQ0FWckIifQ==