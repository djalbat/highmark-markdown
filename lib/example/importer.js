"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    _defaultContent: function() {
        return _defaultContent;
    },
    default: function() {
        return importer;
    },
    defaultContent: function() {
        return defaultContent;
    }
});
var _index = require("../index");
var _constants = require("./constants");
function _define_property(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true
        });
    } else {
        obj[key] = value;
    }
    return obj;
}
var markdownLexer = _index.MarkdownLexer.fromNothing(), markdownParser = _index.MarkdownParser.fromNothing();
function importer(filePath, context) {
    var content = contentMap[filePath] || null;
    if (content !== null) {
        var startOfContent = true, startRule = markdownParser.getStartRule(), tokens = markdownLexer.tokenise(content), node = markdownParser.parse(tokens, startRule, startOfContent), importedNode = node, importedTokens = tokens, importedClassName = classNameFromFilePath(filePath);
        Object.assign(context, {
            importedNode: importedNode,
            importedTokens: importedTokens,
            importedClassName: importedClassName
        });
    }
}
function classNameFromFilePath(filePath) {
    var className = filePath.replace(/\.md/, _constants.EMPTY_STRING);
    return className;
}
var CONTENT_PATH = "content.md", CONTENTS_PATH = "contents.md", HALF_TITLE_PATH = "half-title.md", FRONT_MATTER_PATH = "front-matter.md", INTRODUCTION_PATH = "introduction.md", GETTING_STARTED_PATH = "getting-started.md", INSTALLING_THE_CLI_PATH = "installing-the-cli.md", GETTING_TO_GRIPS_WITH_THE_IDE_PATH = "getting-to-grips-with-the-ide.md";
var defaultContent = "\n```\nnode --version\n```\n";
var _defaultContent = "@ignore\n\n@include ".concat(FRONT_MATTER_PATH, "\n@include ").concat(CONTENT_PATH);
var contentContent = "@ignore\n\n@include ".concat(INTRODUCTION_PATH, "\n@include ").concat(GETTING_STARTED_PATH), contentsContent = "## Contents\n\n@contents", halfTitleContent = "# Occam", frontMatterContent = "@ignore\n\n@include ".concat(HALF_TITLE_PATH, "\n@include ").concat(CONTENTS_PATH), introductionContent = "# Introduction\n      \nI have tried to make Occam[^occam] as useable as possible but there are limits.\nAt the end of the day it is an expert system and some of its parts, not least the verifier, need detailed explanation.\nIt is the purpose of this book is to provide these explanations.\n\nThis book also goes into considerable detail on the subject of Occam's approach to language, which largely boils down to its use of grammars.\nOccam has its own language, called Florence,[^florence] but it will also support controlled natural languages in the near future.\nIndeed, the verifier cannot distinguish between these languages at all.\nThis book explains how this is possible.\n\n@footnotes\n\n@pageNumber\n", gettingStartedContent = "# Getting started\n      \nAnother short paragraph with a reference to a footnote[^occam].\n      \n[^occam]: The word Occam is used somewhat nebulously here.\nIt is most often associated with Occam's IDE but in fact it encompasses a range of software and services.\nThis book explains these divers parts and there is a companion book, called The Foundations of Symbolic Reasoning, that covers the underlying theory.\n\n[^florence]: Occam was originally called Florence but the former seemed more apt.\n\n@footnotes\n\n@embed ".concat(INSTALLING_THE_CLI_PATH, "\n@embed ").concat(GETTING_TO_GRIPS_WITH_THE_IDE_PATH, "\n\n@pageNumber\n"), installingTheCLIContent = "## Installing the CLI", gettingToGripsWithTheIDEIContent = "## Getting to grips with the IDE";
var _obj;
var contentMap = (_obj = {}, _define_property(_obj, CONTENT_PATH, contentContent), _define_property(_obj, CONTENTS_PATH, contentsContent), _define_property(_obj, HALF_TITLE_PATH, halfTitleContent), _define_property(_obj, FRONT_MATTER_PATH, frontMatterContent), _define_property(_obj, INTRODUCTION_PATH, introductionContent), _define_property(_obj, GETTING_STARTED_PATH, gettingStartedContent), _define_property(_obj, INSTALLING_THE_CLI_PATH, installingTheCLIContent), _define_property(_obj, GETTING_TO_GRIPS_WITH_THE_IDE_PATH, gettingToGripsWithTheIDEIContent), _obj);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9leGFtcGxlL2ltcG9ydGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgeyBNYXJrZG93bkxleGVyLCBNYXJrZG93blBhcnNlciB9IGZyb20gXCIuLi9pbmRleFwiO1xuXG5pbXBvcnQgeyBFTVBUWV9TVFJJTkcgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcblxuY29uc3QgbWFya2Rvd25MZXhlciA9IE1hcmtkb3duTGV4ZXIuZnJvbU5vdGhpbmcoKSxcbiAgICAgIG1hcmtkb3duUGFyc2VyID0gTWFya2Rvd25QYXJzZXIuZnJvbU5vdGhpbmcoKTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW1wb3J0ZXIoZmlsZVBhdGgsIGNvbnRleHQpIHtcbiAgY29uc3QgY29udGVudCA9IGNvbnRlbnRNYXBbZmlsZVBhdGhdIHx8IG51bGw7XG5cbiAgaWYgKGNvbnRlbnQgIT09IG51bGwpIHtcbiAgICBjb25zdCBzdGFydE9mQ29udGVudCA9IHRydWUsXG4gICAgICAgICAgc3RhcnRSdWxlID0gbWFya2Rvd25QYXJzZXIuZ2V0U3RhcnRSdWxlKCksXG4gICAgICAgICAgdG9rZW5zID0gbWFya2Rvd25MZXhlci50b2tlbmlzZShjb250ZW50KSxcbiAgICAgICAgICBub2RlID0gbWFya2Rvd25QYXJzZXIucGFyc2UodG9rZW5zLCBzdGFydFJ1bGUsIHN0YXJ0T2ZDb250ZW50KSxcbiAgICAgICAgICBpbXBvcnRlZE5vZGUgPSBub2RlLCAgLy8vXG4gICAgICAgICAgaW1wb3J0ZWRUb2tlbnMgPSB0b2tlbnMsXG4gICAgICAgICAgaW1wb3J0ZWRDbGFzc05hbWUgPSBjbGFzc05hbWVGcm9tRmlsZVBhdGgoZmlsZVBhdGgpO1xuXG4gICAgT2JqZWN0LmFzc2lnbihjb250ZXh0LCB7XG4gICAgICBpbXBvcnRlZE5vZGUsXG4gICAgICBpbXBvcnRlZFRva2VucyxcbiAgICAgIGltcG9ydGVkQ2xhc3NOYW1lXG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2xhc3NOYW1lRnJvbUZpbGVQYXRoKGZpbGVQYXRoKSB7XG4gIGNvbnN0IGNsYXNzTmFtZSA9IGZpbGVQYXRoLnJlcGxhY2UoL1xcLm1kLywgRU1QVFlfU1RSSU5HKTtcblxuICByZXR1cm4gY2xhc3NOYW1lO1xufVxuXG5jb25zdCBDT05URU5UX1BBVEggPSBcImNvbnRlbnQubWRcIixcbiAgICAgIENPTlRFTlRTX1BBVEggPSBcImNvbnRlbnRzLm1kXCIsXG4gICAgICBIQUxGX1RJVExFX1BBVEggPSBcImhhbGYtdGl0bGUubWRcIixcbiAgICAgIEZST05UX01BVFRFUl9QQVRIID0gXCJmcm9udC1tYXR0ZXIubWRcIixcbiAgICAgIElOVFJPRFVDVElPTl9QQVRIID0gXCJpbnRyb2R1Y3Rpb24ubWRcIixcbiAgICAgIEdFVFRJTkdfU1RBUlRFRF9QQVRIID0gXCJnZXR0aW5nLXN0YXJ0ZWQubWRcIixcbiAgICAgIElOU1RBTExJTkdfVEhFX0NMSV9QQVRIID0gXCJpbnN0YWxsaW5nLXRoZS1jbGkubWRcIixcbiAgICAgIEdFVFRJTkdfVE9fR1JJUFNfV0lUSF9USEVfSURFX1BBVEggPSBcImdldHRpbmctdG8tZ3JpcHMtd2l0aC10aGUtaWRlLm1kXCI7XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0Q29udGVudCA9IGBcblxcYFxcYFxcYFxubm9kZSAtLXZlcnNpb25cblxcYFxcYFxcYFxuYDtcblxuZXhwb3J0IGNvbnN0IF9kZWZhdWx0Q29udGVudCA9IGBAaWdub3JlXG5cbkBpbmNsdWRlICR7RlJPTlRfTUFUVEVSX1BBVEh9XG5AaW5jbHVkZSAke0NPTlRFTlRfUEFUSH1gO1xuXG5jb25zdCBjb250ZW50Q29udGVudCA9IGBAaWdub3JlXG5cbkBpbmNsdWRlICR7SU5UUk9EVUNUSU9OX1BBVEh9XG5AaW5jbHVkZSAke0dFVFRJTkdfU1RBUlRFRF9QQVRIfWAsXG5cbiAgICAgIGNvbnRlbnRzQ29udGVudCA9IGAjIyBDb250ZW50c1xuXG5AY29udGVudHNgLFxuXG4gICAgICBoYWxmVGl0bGVDb250ZW50ID0gYCMgT2NjYW1gLFxuXG4gICAgICBmcm9udE1hdHRlckNvbnRlbnQgPSBgQGlnbm9yZVxuXG5AaW5jbHVkZSAke0hBTEZfVElUTEVfUEFUSH1cbkBpbmNsdWRlICR7Q09OVEVOVFNfUEFUSH1gLFxuXG4gICAgICBpbnRyb2R1Y3Rpb25Db250ZW50ID0gYCMgSW50cm9kdWN0aW9uXG4gICAgICBcbkkgaGF2ZSB0cmllZCB0byBtYWtlIE9jY2FtW15vY2NhbV0gYXMgdXNlYWJsZSBhcyBwb3NzaWJsZSBidXQgdGhlcmUgYXJlIGxpbWl0cy5cbkF0IHRoZSBlbmQgb2YgdGhlIGRheSBpdCBpcyBhbiBleHBlcnQgc3lzdGVtIGFuZCBzb21lIG9mIGl0cyBwYXJ0cywgbm90IGxlYXN0IHRoZSB2ZXJpZmllciwgbmVlZCBkZXRhaWxlZCBleHBsYW5hdGlvbi5cbkl0IGlzIHRoZSBwdXJwb3NlIG9mIHRoaXMgYm9vayBpcyB0byBwcm92aWRlIHRoZXNlIGV4cGxhbmF0aW9ucy5cblxuVGhpcyBib29rIGFsc28gZ29lcyBpbnRvIGNvbnNpZGVyYWJsZSBkZXRhaWwgb24gdGhlIHN1YmplY3Qgb2YgT2NjYW0ncyBhcHByb2FjaCB0byBsYW5ndWFnZSwgd2hpY2ggbGFyZ2VseSBib2lscyBkb3duIHRvIGl0cyB1c2Ugb2YgZ3JhbW1hcnMuXG5PY2NhbSBoYXMgaXRzIG93biBsYW5ndWFnZSwgY2FsbGVkIEZsb3JlbmNlLFteZmxvcmVuY2VdIGJ1dCBpdCB3aWxsIGFsc28gc3VwcG9ydCBjb250cm9sbGVkIG5hdHVyYWwgbGFuZ3VhZ2VzIGluIHRoZSBuZWFyIGZ1dHVyZS5cbkluZGVlZCwgdGhlIHZlcmlmaWVyIGNhbm5vdCBkaXN0aW5ndWlzaCBiZXR3ZWVuIHRoZXNlIGxhbmd1YWdlcyBhdCBhbGwuXG5UaGlzIGJvb2sgZXhwbGFpbnMgaG93IHRoaXMgaXMgcG9zc2libGUuXG5cbkBmb290bm90ZXNcblxuQHBhZ2VOdW1iZXJcbmAsXG5cbiAgICAgIGdldHRpbmdTdGFydGVkQ29udGVudCA9IGAjIEdldHRpbmcgc3RhcnRlZFxuICAgICAgXG5Bbm90aGVyIHNob3J0IHBhcmFncmFwaCB3aXRoIGEgcmVmZXJlbmNlIHRvIGEgZm9vdG5vdGVbXm9jY2FtXS5cbiAgICAgIFxuW15vY2NhbV06IFRoZSB3b3JkIE9jY2FtIGlzIHVzZWQgc29tZXdoYXQgbmVidWxvdXNseSBoZXJlLlxuSXQgaXMgbW9zdCBvZnRlbiBhc3NvY2lhdGVkIHdpdGggT2NjYW0ncyBJREUgYnV0IGluIGZhY3QgaXQgZW5jb21wYXNzZXMgYSByYW5nZSBvZiBzb2Z0d2FyZSBhbmQgc2VydmljZXMuXG5UaGlzIGJvb2sgZXhwbGFpbnMgdGhlc2UgZGl2ZXJzIHBhcnRzIGFuZCB0aGVyZSBpcyBhIGNvbXBhbmlvbiBib29rLCBjYWxsZWQgVGhlIEZvdW5kYXRpb25zIG9mIFN5bWJvbGljIFJlYXNvbmluZywgdGhhdCBjb3ZlcnMgdGhlIHVuZGVybHlpbmcgdGhlb3J5LlxuXG5bXmZsb3JlbmNlXTogT2NjYW0gd2FzIG9yaWdpbmFsbHkgY2FsbGVkIEZsb3JlbmNlIGJ1dCB0aGUgZm9ybWVyIHNlZW1lZCBtb3JlIGFwdC5cblxuQGZvb3Rub3Rlc1xuXG5AZW1iZWQgJHtJTlNUQUxMSU5HX1RIRV9DTElfUEFUSH1cbkBlbWJlZCAke0dFVFRJTkdfVE9fR1JJUFNfV0lUSF9USEVfSURFX1BBVEh9XG5cbkBwYWdlTnVtYmVyXG5gLFxuXG4gICAgICBpbnN0YWxsaW5nVGhlQ0xJQ29udGVudCA9IGAjIyBJbnN0YWxsaW5nIHRoZSBDTElgLFxuXG4gICAgICBnZXR0aW5nVG9Hcmlwc1dpdGhUaGVJREVJQ29udGVudCA9IGAjIyBHZXR0aW5nIHRvIGdyaXBzIHdpdGggdGhlIElERWA7XG5cbmNvbnN0IGNvbnRlbnRNYXAgPSB7XG5cbiAgW0NPTlRFTlRfUEFUSF06IGNvbnRlbnRDb250ZW50LFxuICBbQ09OVEVOVFNfUEFUSF06IGNvbnRlbnRzQ29udGVudCxcbiAgW0hBTEZfVElUTEVfUEFUSF06IGhhbGZUaXRsZUNvbnRlbnQsXG4gIFtGUk9OVF9NQVRURVJfUEFUSF06IGZyb250TWF0dGVyQ29udGVudCxcbiAgW0lOVFJPRFVDVElPTl9QQVRIXTogaW50cm9kdWN0aW9uQ29udGVudCxcbiAgW0dFVFRJTkdfU1RBUlRFRF9QQVRIXTogZ2V0dGluZ1N0YXJ0ZWRDb250ZW50LFxuICBbSU5TVEFMTElOR19USEVfQ0xJX1BBVEhdOiBpbnN0YWxsaW5nVGhlQ0xJQ29udGVudCxcbiAgW0dFVFRJTkdfVE9fR1JJUFNfV0lUSF9USEVfSURFX1BBVEhdOiBnZXR0aW5nVG9Hcmlwc1dpdGhUaGVJREVJQ29udGVudFxuXG59O1xuIl0sIm5hbWVzIjpbIl9kZWZhdWx0Q29udGVudCIsImltcG9ydGVyIiwiZGVmYXVsdENvbnRlbnQiLCJtYXJrZG93bkxleGVyIiwiTWFya2Rvd25MZXhlciIsImZyb21Ob3RoaW5nIiwibWFya2Rvd25QYXJzZXIiLCJNYXJrZG93blBhcnNlciIsImZpbGVQYXRoIiwiY29udGV4dCIsImNvbnRlbnQiLCJjb250ZW50TWFwIiwic3RhcnRPZkNvbnRlbnQiLCJzdGFydFJ1bGUiLCJnZXRTdGFydFJ1bGUiLCJ0b2tlbnMiLCJ0b2tlbmlzZSIsIm5vZGUiLCJwYXJzZSIsImltcG9ydGVkTm9kZSIsImltcG9ydGVkVG9rZW5zIiwiaW1wb3J0ZWRDbGFzc05hbWUiLCJjbGFzc05hbWVGcm9tRmlsZVBhdGgiLCJPYmplY3QiLCJhc3NpZ24iLCJjbGFzc05hbWUiLCJyZXBsYWNlIiwiRU1QVFlfU1RSSU5HIiwiQ09OVEVOVF9QQVRIIiwiQ09OVEVOVFNfUEFUSCIsIkhBTEZfVElUTEVfUEFUSCIsIkZST05UX01BVFRFUl9QQVRIIiwiSU5UUk9EVUNUSU9OX1BBVEgiLCJHRVRUSU5HX1NUQVJURURfUEFUSCIsIklOU1RBTExJTkdfVEhFX0NMSV9QQVRIIiwiR0VUVElOR19UT19HUklQU19XSVRIX1RIRV9JREVfUEFUSCIsImNvbnRlbnRDb250ZW50IiwiY29udGVudHNDb250ZW50IiwiaGFsZlRpdGxlQ29udGVudCIsImZyb250TWF0dGVyQ29udGVudCIsImludHJvZHVjdGlvbkNvbnRlbnQiLCJnZXR0aW5nU3RhcnRlZENvbnRlbnQiLCJpbnN0YWxsaW5nVGhlQ0xJQ29udGVudCIsImdldHRpbmdUb0dyaXBzV2l0aFRoZUlERUlDb250ZW50Il0sInJhbmdlTWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsiLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7O0lBa0RhQSxlQUFlO2VBQWZBOztJQXpDYixPQWtCQztlQWxCdUJDOztJQW1DWEMsY0FBYztlQUFkQTs7O3FCQTFDaUM7eUJBRWpCOzs7Ozs7Ozs7Ozs7OztBQUU3QixJQUFNQyxnQkFBZ0JDLG9CQUFhLENBQUNDLFdBQVcsSUFDekNDLGlCQUFpQkMscUJBQWMsQ0FBQ0YsV0FBVztBQUVsQyxTQUFTSixTQUFTTyxRQUFRLEVBQUVDLE9BQU87SUFDaEQsSUFBTUMsVUFBVUMsVUFBVSxDQUFDSCxTQUFTLElBQUk7SUFFeEMsSUFBSUUsWUFBWSxNQUFNO1FBQ3BCLElBQU1FLGlCQUFpQixNQUNqQkMsWUFBWVAsZUFBZVEsWUFBWSxJQUN2Q0MsU0FBU1osY0FBY2EsUUFBUSxDQUFDTixVQUNoQ08sT0FBT1gsZUFBZVksS0FBSyxDQUFDSCxRQUFRRixXQUFXRCxpQkFDL0NPLGVBQWVGLE1BQ2ZHLGlCQUFpQkwsUUFDakJNLG9CQUFvQkMsc0JBQXNCZDtRQUVoRGUsT0FBT0MsTUFBTSxDQUFDZixTQUFTO1lBQ3JCVSxjQUFBQTtZQUNBQyxnQkFBQUE7WUFDQUMsbUJBQUFBO1FBQ0Y7SUFDRjtBQUNGO0FBRUEsU0FBU0Msc0JBQXNCZCxRQUFRO0lBQ3JDLElBQU1pQixZQUFZakIsU0FBU2tCLE9BQU8sQ0FBQyxRQUFRQyx1QkFBWTtJQUV2RCxPQUFPRjtBQUNUO0FBRUEsSUFBTUcsZUFBZSxjQUNmQyxnQkFBZ0IsZUFDaEJDLGtCQUFrQixpQkFDbEJDLG9CQUFvQixtQkFDcEJDLG9CQUFvQixtQkFDcEJDLHVCQUF1QixzQkFDdkJDLDBCQUEwQix5QkFDMUJDLHFDQUFxQztBQUVwQyxJQUFNakMsaUJBQWtCO0FBTXhCLElBQU1GLGtCQUFrQixBQUFDLHVCQUdyQjRCLE9BREFHLG1CQUFrQixlQUNMLE9BQWJIO0FBRVgsSUFBTVEsaUJBQWlCLEFBQUMsdUJBR2JILE9BREFELG1CQUFrQixlQUNHLE9BQXJCQyx1QkFFTEksa0JBQW1CLDRCQUluQkMsbUJBQW9CLFdBRXBCQyxxQkFBcUIsQUFBQyx1QkFHakJWLE9BREFDLGlCQUFnQixlQUNGLE9BQWRELGdCQUVMVyxzQkFBdUIsMnNCQWdCdkJDLHdCQUF3QixBQUFDLGloQkFhdEJOLE9BREFELHlCQUF3QixhQUNXLE9BQW5DQyxvQ0FBbUMsc0JBS3RDTywwQkFBMkIseUJBRTNCQyxtQ0FBb0M7SUFFdkI7QUFBbkIsSUFBTWhDLGNBQWEsV0FFakIsaUJBRmlCLE1BRWhCaUIsY0FBZVEsaUJBQ2hCLGlCQUhpQixNQUdoQlAsZUFBZ0JRLGtCQUNqQixpQkFKaUIsTUFJaEJQLGlCQUFrQlEsbUJBQ25CLGlCQUxpQixNQUtoQlAsbUJBQW9CUSxxQkFDckIsaUJBTmlCLE1BTWhCUCxtQkFBb0JRLHNCQUNyQixpQkFQaUIsTUFPaEJQLHNCQUF1QlEsd0JBQ3hCLGlCQVJpQixNQVFoQlAseUJBQTBCUSwwQkFDM0IsaUJBVGlCLE1BU2hCUCxvQ0FBcUNRLG1DQVRyQiJ9