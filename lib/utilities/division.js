"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get addFootnoteHTMLNodes () {
        return addFootnoteHTMLNodes;
    },
    get footnoteItemHTMLTransformsFromLineHTMLTransforms () {
        return footnoteItemHTMLTransformsFromLineHTMLTransforms;
    },
    get groupHTMLNodes () {
        return groupHTMLNodes;
    },
    get lineHTMLTransformsFromFootnoteHTMLTransforms () {
        return lineHTMLTransformsFromFootnoteHTMLTransforms;
    },
    get numberFootnoteLinkHTMLNodes () {
        return numberFootnoteLinkHTMLNodes;
    },
    get paginateGroupedHTMLNodes () {
        return paginateGroupedHTMLNodes;
    },
    get removeFootnoteHTMLNodes () {
        return removeFootnoteHTMLNodes;
    },
    get removeFootnotesDirectiveHTMLNode () {
        return removeFootnotesDirectiveHTMLNode;
    },
    get removeHTMLNodes () {
        return removeHTMLNodes;
    },
    get removeNestedFootnoteLinkHTMLNodes () {
        return removeNestedFootnoteLinkHTMLNodes;
    },
    get removePageNumberDirectiveHTMLNode () {
        return removePageNumberDirectiveHTMLNode;
    }
});
var _necessary = require("necessary");
var _html = /*#__PURE__*/ _interop_require_default(require("../transform/html"));
var _footnote = /*#__PURE__*/ _interop_require_default(require("../node/html/footnote"));
var _line = /*#__PURE__*/ _interop_require_default(require("../transform/html/line"));
var _footnote1 = /*#__PURE__*/ _interop_require_default(require("../transform/html/footnote"));
var _footnote2 = /*#__PURE__*/ _interop_require_default(require("../transform/html/item/footnote"));
var _footnote3 = /*#__PURE__*/ _interop_require_default(require("../transform/html/link/footnote"));
var _nestedFootnote = /*#__PURE__*/ _interop_require_default(require("../transform/html/link/nestedFootnote"));
var _footnotes = /*#__PURE__*/ _interop_require_default(require("../transform/html/directive/footnotes"));
var _pageNumber = /*#__PURE__*/ _interop_require_default(require("../transform/html/directive/pageNumber"));
var _constants = require("../constants");
var _html1 = require("../utilities/html");
function _array_like_to_array(arr, len) {
    if (len == null || len > arr.length) len = arr.length;
    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];
    return arr2;
}
function _array_without_holes(arr) {
    if (Array.isArray(arr)) return _array_like_to_array(arr);
}
function _instanceof(left, right) {
    if (right != null && typeof Symbol !== "undefined" && right[Symbol.hasInstance]) {
        return !!right[Symbol.hasInstance](left);
    } else {
        return left instanceof right;
    }
}
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _iterable_to_array(iter) {
    if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);
}
function _non_iterable_spread() {
    throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function _to_consumable_array(arr) {
    return _array_without_holes(arr) || _iterable_to_array(arr) || _unsupported_iterable_to_array(arr) || _non_iterable_spread();
}
function _unsupported_iterable_to_array(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _array_like_to_array(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(n);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _array_like_to_array(o, minLen);
}
var backwardsForEach = _necessary.arrayUtilities.backwardsForEach;
function groupHTMLNodes(htmlNodes) {
    var groupedHTMLNodesArray = [];
    var groupedHTMLNodes = [];
    htmlNodes.forEach(function(htmlNode) {
        var htmlNodeFootnoteHTMLNode = _instanceof(htmlNode, _footnote.default);
        if (!htmlNodeFootnoteHTMLNode) {
            var groupedHTMLNodeLength = groupedHTMLNodes.length;
            if (groupedHTMLNodeLength > 0) {
                groupedHTMLNodesArray.push(groupedHTMLNodes);
                groupedHTMLNodes = [];
            }
        }
        var groupedHTMLNode = htmlNode; ///
        groupedHTMLNodes.push(groupedHTMLNode);
    });
    var groupedHTMLNodeLength = groupedHTMLNodes.length;
    if (groupedHTMLNodeLength) {
        groupedHTMLNodesArray.push(groupedHTMLNodes);
    }
    return groupedHTMLNodesArray;
}
function removeHTMLNodes(node) {
    var htmlNodes = (0, _html1.htmlNodesFromNode)(node);
    htmlNodes.forEach(function(htmlNode) {
        var htmlTransform = _html.default.fromHTMLNode(htmlNode);
        htmlTransform.remove();
    });
    return htmlNodes;
}
function addFootnoteHTMLNodes(footnoteHTMLTransforms, node, context) {
    var footnoteLinkHTMLNodes = (0, _html1.footnoteLinkHTMLNodesFromNode)(node), footnoteLinkHTMLTransforms = footnoteLinkHTMLTransformsFromFootnoteLinkHTMLNodes(footnoteLinkHTMLNodes);
    backwardsForEach(footnoteLinkHTMLTransforms, function(footnoteLinkHTMLTransform) {
        var identifier = footnoteLinkHTMLTransform.identifier(context), footnoteHTMLTransform = footnoteHTMLTransforms.find(function(footnoteHTMLTransform) {
            var identifierMatches = footnoteHTMLTransform.matchIdentifier(identifier, context);
            if (identifierMatches) {
                return true;
            }
        }) || null;
        if (footnoteHTMLTransform !== null) {
            footnoteHTMLTransform.addAfterFootnoteLinkHTMLTransform(footnoteLinkHTMLTransform);
        }
    });
}
function removeFootnoteHTMLNodes(node) {
    var footnoteHTMLNodes = (0, _html1.footnoteHTMLNodesFromNode)(node), footnoteHTMLTransforms = footnoteHTMLTransformsFromFootnoteHTMLNodes(footnoteHTMLNodes);
    footnoteHTMLTransforms.forEach(function(footnoteHTMLTransform) {
        footnoteHTMLTransform.remove();
    });
    return footnoteHTMLTransforms;
}
function paginateGroupedHTMLNodes(groupedHTMLNodesArray, context) {
    var paginatedHTMLNodesArray = [];
    var _context_maximumPageLines = context.maximumPageLines, maximumPageLines = _context_maximumPageLines === void 0 ? _constants.DEFAULT_MAXIMUM_PAGE_LINES : _context_maximumPageLines;
    var pageLines = 0, paginatedHTMLNodes = [];
    groupedHTMLNodesArray.forEach(function(groupedHTMLNodes) {
        var _paginatedHTMLNodes;
        var groupLines = groupedHTMLNodes.reduce(function(groupLines, groupedHTMLNode) {
            var lines = groupedHTMLNode.lines(context);
            groupLines += lines;
            return groupLines;
        }, 0);
        var paginatedHTMLNodesLength = paginatedHTMLNodes.length;
        if (paginatedHTMLNodesLength > 0) {
            if (pageLines + groupLines > maximumPageLines) {
                paginatedHTMLNodesArray.push(paginatedHTMLNodes);
                pageLines = 0;
                paginatedHTMLNodes = [];
            }
        }
        (_paginatedHTMLNodes = paginatedHTMLNodes).push.apply(_paginatedHTMLNodes, _to_consumable_array(groupedHTMLNodes));
        pageLines += groupLines;
    });
    var paginatedHTMLNodesLength = paginatedHTMLNodes.length;
    if (paginatedHTMLNodesLength) {
        paginatedHTMLNodesArray.push(paginatedHTMLNodes);
    }
    return paginatedHTMLNodesArray;
}
function numberFootnoteLinkHTMLNodes(footnoteHTMLTransforms, identifierMap, node, context) {
    var footnoteLinkHTMLNodes = (0, _html1.footnoteLinkHTMLNodesFromNode)(node), identifiers = Object.keys(identifierMap), identifiersLength = identifiers.length, start = identifiersLength + 1;
    footnoteHTMLTransforms.forEach(function(footnoteHTMLTransform, index) {
        var identifier = footnoteHTMLTransform.identifier(context), number = start + index;
        identifierMap[identifier] = number;
    });
    footnoteLinkHTMLNodes.forEach(function(footnoteLinkHTMLNode) {
        var identifier = footnoteLinkHTMLNode.identifier(context), number = identifierMap[identifier];
        footnoteLinkHTMLNode.setNumber(number);
    });
    return start;
}
function removeFootnotesDirectiveHTMLNode(node) {
    var footnotesDirectiveHTMLNode = (0, _html1.footnotesDirectiveHTMLNodeFromNode)(node);
    if (footnotesDirectiveHTMLNode !== null) {
        var footnotesDirectiveHTMLTransform = _footnotes.default.fromFootnotesDirectiveHTMLNode(footnotesDirectiveHTMLNode);
        footnotesDirectiveHTMLTransform.remove();
    }
    return footnotesDirectiveHTMLNode;
}
function removePageNumberDirectiveHTMLNode(node) {
    var pageNumberDirectiveHTMLTransform = null;
    var pageNumberDirectiveHTMLNode = (0, _html1.pageNumberDirectiveHTMLNodeFromNode)(node);
    if (pageNumberDirectiveHTMLNode !== null) {
        pageNumberDirectiveHTMLTransform = _pageNumber.default.fromPageNumberDirectiveHTMLNode(pageNumberDirectiveHTMLNode);
        pageNumberDirectiveHTMLTransform.remove();
    }
    return pageNumberDirectiveHTMLTransform;
}
function removeNestedFootnoteLinkHTMLNodes(node) {
    var nestedFootnoteLinkHTMLNodes = (0, _html1.nestedFootnoteLinkHTMLNodesFromNode)(node), nestedFootnoteLinkHTMLTransforms = nestedFootnoteLinkHTMLTransformsFromNestedFootnoteLinkHTMLNodes(nestedFootnoteLinkHTMLNodes);
    nestedFootnoteLinkHTMLTransforms.forEach(function(nestedFootnoteLinkHTMLTransform) {
        nestedFootnoteLinkHTMLTransform.remove();
    });
}
function lineHTMLTransformsFromFootnoteHTMLTransforms(footnoteHTMLTransforms) {
    var lineHTMLTransforms = footnoteHTMLTransforms.map(function(footnoteHTMLTransform) {
        var lineHTMLTransform = _line.default.fromFootnoteHTMLTransform(footnoteHTMLTransform);
        return lineHTMLTransform;
    });
    return lineHTMLTransforms;
}
function footnoteItemHTMLTransformsFromLineHTMLTransforms(lineHTMLTransforms, identifierMap, start) {
    var numbers = Object.values(identifierMap), identifiers = Object.keys(identifierMap), footnoteItemHTMLTransforms = lineHTMLTransforms.map(function(lineHTMLTransform, index) {
        var number = start + index;
        index = numbers.indexOf(number);
        var identifier = identifiers[index], footnoteItemHTMLTransform = _footnote2.default.fromLineTMLTransformAndIdentifier(lineHTMLTransform, identifier);
        return footnoteItemHTMLTransform;
    });
    return footnoteItemHTMLTransforms;
}
function footnoteHTMLTransformsFromFootnoteHTMLNodes(footnoteHTMLNodes) {
    var footnoteHTMLTransforms = footnoteHTMLNodes.map(function(footnoteHTMLNode) {
        var footnoteHTMLTransform = _footnote1.default.fromFootnoteHTMLNode(footnoteHTMLNode);
        return footnoteHTMLTransform;
    });
    return footnoteHTMLTransforms;
}
function footnoteLinkHTMLTransformsFromFootnoteLinkHTMLNodes(footnoteLinkHTMLNodes) {
    var footnoteLinkHTMLTransforms = footnoteLinkHTMLNodes.map(function(footnoteLinkHTMLNode) {
        var footnoteLinkHTMLTransform = _footnote3.default.fromFootnoteLinkHTMLNode(footnoteLinkHTMLNode);
        return footnoteLinkHTMLTransform;
    });
    return footnoteLinkHTMLTransforms;
}
function nestedFootnoteLinkHTMLTransformsFromNestedFootnoteLinkHTMLNodes(nestedFootnoteLinkHTMLNodes) {
    var nestedFootnoteLinkHTMLTransforms = nestedFootnoteLinkHTMLNodes.map(function(nestedFootnoteLinkHTMLNode) {
        var nestedFootnoteLinkHTMLTransform = _nestedFootnote.default.fromNestedFootnoteLinkHTMLNode(nestedFootnoteLinkHTMLNode);
        return nestedFootnoteLinkHTMLTransform;
    });
    return nestedFootnoteLinkHTMLTransforms;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsaXRpZXMvZGl2aXNpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCB7IGFycmF5VXRpbGl0aWVzIH0gZnJvbSBcIm5lY2Vzc2FyeVwiO1xuXG5pbXBvcnQgSFRNTFRyYW5zZm9ybSBmcm9tIFwiLi4vdHJhbnNmb3JtL2h0bWxcIjtcbmltcG9ydCBGb290bm90ZUhUTUxOb2RlIGZyb20gXCIuLi9ub2RlL2h0bWwvZm9vdG5vdGVcIjtcbmltcG9ydCBMaW5lSFRNTFRyYW5zZm9ybSBmcm9tIFwiLi4vdHJhbnNmb3JtL2h0bWwvbGluZVwiO1xuaW1wb3J0IEZvb3Rub3RlSFRNTFRyYW5zZm9ybSBmcm9tIFwiLi4vdHJhbnNmb3JtL2h0bWwvZm9vdG5vdGVcIjtcbmltcG9ydCBGb290bm90ZUl0ZW1IVE1MVHJhbnNmb3JtIGZyb20gXCIuLi90cmFuc2Zvcm0vaHRtbC9pdGVtL2Zvb3Rub3RlXCI7XG5pbXBvcnQgRm9vdG5vdGVMaW5rSFRNTFRyYW5zZm9ybSBmcm9tIFwiLi4vdHJhbnNmb3JtL2h0bWwvbGluay9mb290bm90ZVwiO1xuaW1wb3J0IE5lc3RlZEZvb3Rub3RlTGlua0hUTUxUcmFuc2Zvcm0gZnJvbSBcIi4uL3RyYW5zZm9ybS9odG1sL2xpbmsvbmVzdGVkRm9vdG5vdGVcIjtcbmltcG9ydCBGb290bm90ZXNEaXJlY3RpdmVIVE1MVHJhbnNmb3JtIGZyb20gXCIuLi90cmFuc2Zvcm0vaHRtbC9kaXJlY3RpdmUvZm9vdG5vdGVzXCI7XG5pbXBvcnQgUGFnZU51bWJlckRpcmVjdGl2ZUhUTUxUcmFuc2Zvcm0gZnJvbSBcIi4uL3RyYW5zZm9ybS9odG1sL2RpcmVjdGl2ZS9wYWdlTnVtYmVyXCI7XG5cbmltcG9ydCB7IERFRkFVTFRfTUFYSU1VTV9QQUdFX0xJTkVTIH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgaHRtbE5vZGVzRnJvbU5vZGUsXG4gICAgICAgICBmb290bm90ZUhUTUxOb2Rlc0Zyb21Ob2RlLFxuICAgICAgICAgZm9vdG5vdGVMaW5rSFRNTE5vZGVzRnJvbU5vZGUsXG4gICAgICAgICBmb290bm90ZXNEaXJlY3RpdmVIVE1MTm9kZUZyb21Ob2RlLFxuICAgICAgICAgbmVzdGVkRm9vdG5vdGVMaW5rSFRNTE5vZGVzRnJvbU5vZGUsXG4gICAgICAgICBwYWdlTnVtYmVyRGlyZWN0aXZlSFRNTE5vZGVGcm9tTm9kZSB9IGZyb20gXCIuLi91dGlsaXRpZXMvaHRtbFwiO1xuXG5jb25zdCB7IGJhY2t3YXJkc0ZvckVhY2ggfSA9IGFycmF5VXRpbGl0aWVzO1xuXG5leHBvcnQgZnVuY3Rpb24gZ3JvdXBIVE1MTm9kZXMoaHRtbE5vZGVzKSB7XG4gIGNvbnN0IGdyb3VwZWRIVE1MTm9kZXNBcnJheSA9IFtdO1xuXG4gIGxldCBncm91cGVkSFRNTE5vZGVzID0gW107XG5cbiAgaHRtbE5vZGVzLmZvckVhY2goKGh0bWxOb2RlKSA9PiB7XG4gICAgY29uc3QgaHRtbE5vZGVGb290bm90ZUhUTUxOb2RlID0gKGh0bWxOb2RlIGluc3RhbmNlb2YgRm9vdG5vdGVIVE1MTm9kZSk7XG5cbiAgICBpZiAoIWh0bWxOb2RlRm9vdG5vdGVIVE1MTm9kZSkge1xuICAgICAgY29uc3QgZ3JvdXBlZEhUTUxOb2RlTGVuZ3RoID0gZ3JvdXBlZEhUTUxOb2Rlcy5sZW5ndGg7XG5cbiAgICAgIGlmIChncm91cGVkSFRNTE5vZGVMZW5ndGggPiAwKSB7XG4gICAgICAgIGdyb3VwZWRIVE1MTm9kZXNBcnJheS5wdXNoKGdyb3VwZWRIVE1MTm9kZXMpO1xuXG4gICAgICAgIGdyb3VwZWRIVE1MTm9kZXMgPSBbXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBncm91cGVkSFRNTE5vZGUgPSBodG1sTm9kZTsgLy8vXG5cbiAgICBncm91cGVkSFRNTE5vZGVzLnB1c2goZ3JvdXBlZEhUTUxOb2RlKTtcbiAgfSk7XG5cbiAgY29uc3QgZ3JvdXBlZEhUTUxOb2RlTGVuZ3RoID0gZ3JvdXBlZEhUTUxOb2Rlcy5sZW5ndGg7XG5cbiAgaWYgKGdyb3VwZWRIVE1MTm9kZUxlbmd0aCkge1xuICAgIGdyb3VwZWRIVE1MTm9kZXNBcnJheS5wdXNoKGdyb3VwZWRIVE1MTm9kZXMpO1xuICB9XG5cbiAgcmV0dXJuIGdyb3VwZWRIVE1MTm9kZXNBcnJheTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUhUTUxOb2Rlcyhub2RlKSB7XG4gIGNvbnN0IGh0bWxOb2RlcyA9IGh0bWxOb2Rlc0Zyb21Ob2RlKG5vZGUpO1xuXG4gIGh0bWxOb2Rlcy5mb3JFYWNoKChodG1sTm9kZSkgPT4ge1xuICAgIGNvbnN0IGh0bWxUcmFuc2Zvcm0gPSBIVE1MVHJhbnNmb3JtLmZyb21IVE1MTm9kZShodG1sTm9kZSk7XG5cbiAgICBodG1sVHJhbnNmb3JtLnJlbW92ZSgpO1xuICB9KTtcblxuICByZXR1cm4gaHRtbE5vZGVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkRm9vdG5vdGVIVE1MTm9kZXMoZm9vdG5vdGVIVE1MVHJhbnNmb3Jtcywgbm9kZSwgY29udGV4dCkge1xuICBjb25zdCBmb290bm90ZUxpbmtIVE1MTm9kZXMgPSBmb290bm90ZUxpbmtIVE1MTm9kZXNGcm9tTm9kZShub2RlKSxcbiAgICAgICAgZm9vdG5vdGVMaW5rSFRNTFRyYW5zZm9ybXMgPSBmb290bm90ZUxpbmtIVE1MVHJhbnNmb3Jtc0Zyb21Gb290bm90ZUxpbmtIVE1MTm9kZXMoZm9vdG5vdGVMaW5rSFRNTE5vZGVzKTtcblxuICBiYWNrd2FyZHNGb3JFYWNoKGZvb3Rub3RlTGlua0hUTUxUcmFuc2Zvcm1zLCAoZm9vdG5vdGVMaW5rSFRNTFRyYW5zZm9ybSkgPT4ge1xuICAgIGNvbnN0IGlkZW50aWZpZXIgPSBmb290bm90ZUxpbmtIVE1MVHJhbnNmb3JtLmlkZW50aWZpZXIoY29udGV4dCksXG4gICAgICAgICAgZm9vdG5vdGVIVE1MVHJhbnNmb3JtID0gZm9vdG5vdGVIVE1MVHJhbnNmb3Jtcy5maW5kKChmb290bm90ZUhUTUxUcmFuc2Zvcm0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlkZW50aWZpZXJNYXRjaGVzID0gZm9vdG5vdGVIVE1MVHJhbnNmb3JtLm1hdGNoSWRlbnRpZmllcihpZGVudGlmaWVyLCBjb250ZXh0KTtcblxuICAgICAgICAgICAgaWYgKGlkZW50aWZpZXJNYXRjaGVzKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pIHx8IG51bGw7XG5cbiAgICBpZiAoZm9vdG5vdGVIVE1MVHJhbnNmb3JtICE9PSBudWxsKSB7XG4gICAgICBmb290bm90ZUhUTUxUcmFuc2Zvcm0uYWRkQWZ0ZXJGb290bm90ZUxpbmtIVE1MVHJhbnNmb3JtKGZvb3Rub3RlTGlua0hUTUxUcmFuc2Zvcm0pO1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVGb290bm90ZUhUTUxOb2Rlcyhub2RlKSB7XG4gIGNvbnN0IGZvb3Rub3RlSFRNTE5vZGVzID0gZm9vdG5vdGVIVE1MTm9kZXNGcm9tTm9kZShub2RlKSxcbiAgICAgICAgZm9vdG5vdGVIVE1MVHJhbnNmb3JtcyA9IGZvb3Rub3RlSFRNTFRyYW5zZm9ybXNGcm9tRm9vdG5vdGVIVE1MTm9kZXMoZm9vdG5vdGVIVE1MTm9kZXMpO1xuXG4gIGZvb3Rub3RlSFRNTFRyYW5zZm9ybXMuZm9yRWFjaCgoZm9vdG5vdGVIVE1MVHJhbnNmb3JtKSA9PiB7XG4gICAgZm9vdG5vdGVIVE1MVHJhbnNmb3JtLnJlbW92ZSgpO1xuICB9KTtcblxuICByZXR1cm4gZm9vdG5vdGVIVE1MVHJhbnNmb3Jtcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhZ2luYXRlR3JvdXBlZEhUTUxOb2Rlcyhncm91cGVkSFRNTE5vZGVzQXJyYXksIGNvbnRleHQpIHtcbiAgY29uc3QgcGFnaW5hdGVkSFRNTE5vZGVzQXJyYXkgPSBbXTtcblxuICBjb25zdCB7IG1heGltdW1QYWdlTGluZXMgPSBERUZBVUxUX01BWElNVU1fUEFHRV9MSU5FUyB9ID0gY29udGV4dDtcblxuICBsZXQgcGFnZUxpbmVzID0gMCxcbiAgICAgIHBhZ2luYXRlZEhUTUxOb2RlcyA9IFtdO1xuXG4gIGdyb3VwZWRIVE1MTm9kZXNBcnJheS5mb3JFYWNoKChncm91cGVkSFRNTE5vZGVzKSA9PiB7XG4gICAgY29uc3QgZ3JvdXBMaW5lcyA9IGdyb3VwZWRIVE1MTm9kZXMucmVkdWNlKChncm91cExpbmVzLCBncm91cGVkSFRNTE5vZGUpID0+IHtcbiAgICAgIGNvbnN0IGxpbmVzID0gZ3JvdXBlZEhUTUxOb2RlLmxpbmVzKGNvbnRleHQpO1xuXG4gICAgICBncm91cExpbmVzICs9IGxpbmVzO1xuXG4gICAgICByZXR1cm4gZ3JvdXBMaW5lcztcbiAgICB9LCAwKTtcblxuICAgIGNvbnN0IHBhZ2luYXRlZEhUTUxOb2Rlc0xlbmd0aCA9IHBhZ2luYXRlZEhUTUxOb2Rlcy5sZW5ndGg7XG5cbiAgICBpZiAocGFnaW5hdGVkSFRNTE5vZGVzTGVuZ3RoID4gMCkge1xuICAgICAgaWYgKHBhZ2VMaW5lcyArIGdyb3VwTGluZXMgPiBtYXhpbXVtUGFnZUxpbmVzKSB7XG4gICAgICAgIHBhZ2luYXRlZEhUTUxOb2Rlc0FycmF5LnB1c2gocGFnaW5hdGVkSFRNTE5vZGVzKTtcblxuICAgICAgICBwYWdlTGluZXMgPSAwO1xuXG4gICAgICAgIHBhZ2luYXRlZEhUTUxOb2RlcyA9IFtdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHBhZ2luYXRlZEhUTUxOb2Rlcy5wdXNoKC4uLmdyb3VwZWRIVE1MTm9kZXMpO1xuXG4gICAgcGFnZUxpbmVzICs9IGdyb3VwTGluZXM7XG4gIH0pO1xuXG4gIGNvbnN0IHBhZ2luYXRlZEhUTUxOb2Rlc0xlbmd0aCA9IHBhZ2luYXRlZEhUTUxOb2Rlcy5sZW5ndGg7XG5cbiAgaWYgKHBhZ2luYXRlZEhUTUxOb2Rlc0xlbmd0aCkge1xuICAgIHBhZ2luYXRlZEhUTUxOb2Rlc0FycmF5LnB1c2gocGFnaW5hdGVkSFRNTE5vZGVzKTtcbiAgfVxuXG4gIHJldHVybiBwYWdpbmF0ZWRIVE1MTm9kZXNBcnJheTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG51bWJlckZvb3Rub3RlTGlua0hUTUxOb2Rlcyhmb290bm90ZUhUTUxUcmFuc2Zvcm1zLCBpZGVudGlmaWVyTWFwLCBub2RlLCBjb250ZXh0KSB7XG4gIGNvbnN0IGZvb3Rub3RlTGlua0hUTUxOb2RlcyA9IGZvb3Rub3RlTGlua0hUTUxOb2Rlc0Zyb21Ob2RlKG5vZGUpLFxuICAgICAgICBpZGVudGlmaWVycyA9IE9iamVjdC5rZXlzKGlkZW50aWZpZXJNYXApLFxuICAgICAgICBpZGVudGlmaWVyc0xlbmd0aCA9IGlkZW50aWZpZXJzLmxlbmd0aCxcbiAgICAgICAgc3RhcnQgPSBpZGVudGlmaWVyc0xlbmd0aCArIDE7XG5cbiAgZm9vdG5vdGVIVE1MVHJhbnNmb3Jtcy5mb3JFYWNoKChmb290bm90ZUhUTUxUcmFuc2Zvcm0sIGluZGV4KSA9PiB7XG4gICAgY29uc3QgaWRlbnRpZmllciA9IGZvb3Rub3RlSFRNTFRyYW5zZm9ybS5pZGVudGlmaWVyKGNvbnRleHQpLFxuICAgICAgICAgIG51bWJlciA9IHN0YXJ0ICsgaW5kZXg7XG5cbiAgICBpZGVudGlmaWVyTWFwW2lkZW50aWZpZXJdID0gbnVtYmVyO1xuICB9KTtcblxuICBmb290bm90ZUxpbmtIVE1MTm9kZXMuZm9yRWFjaCgoZm9vdG5vdGVMaW5rSFRNTE5vZGUpID0+IHtcbiAgICBjb25zdCBpZGVudGlmaWVyID0gZm9vdG5vdGVMaW5rSFRNTE5vZGUuaWRlbnRpZmllcihjb250ZXh0KSxcbiAgICAgICAgICBudW1iZXIgPSBpZGVudGlmaWVyTWFwW2lkZW50aWZpZXJdO1xuXG4gICAgZm9vdG5vdGVMaW5rSFRNTE5vZGUuc2V0TnVtYmVyKG51bWJlcik7XG4gIH0pXG5cbiAgcmV0dXJuIHN0YXJ0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRm9vdG5vdGVzRGlyZWN0aXZlSFRNTE5vZGUobm9kZSkge1xuICBjb25zdCBmb290bm90ZXNEaXJlY3RpdmVIVE1MTm9kZSA9IGZvb3Rub3Rlc0RpcmVjdGl2ZUhUTUxOb2RlRnJvbU5vZGUobm9kZSk7XG5cbiAgaWYgKGZvb3Rub3Rlc0RpcmVjdGl2ZUhUTUxOb2RlICE9PSBudWxsKSB7XG4gICAgY29uc3QgZm9vdG5vdGVzRGlyZWN0aXZlSFRNTFRyYW5zZm9ybSA9IEZvb3Rub3Rlc0RpcmVjdGl2ZUhUTUxUcmFuc2Zvcm0uZnJvbUZvb3Rub3Rlc0RpcmVjdGl2ZUhUTUxOb2RlKGZvb3Rub3Rlc0RpcmVjdGl2ZUhUTUxOb2RlKTtcblxuICAgIGZvb3Rub3Rlc0RpcmVjdGl2ZUhUTUxUcmFuc2Zvcm0ucmVtb3ZlKCk7XG4gIH1cblxuICByZXR1cm4gZm9vdG5vdGVzRGlyZWN0aXZlSFRNTE5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVQYWdlTnVtYmVyRGlyZWN0aXZlSFRNTE5vZGUobm9kZSkge1xuICBsZXQgcGFnZU51bWJlckRpcmVjdGl2ZUhUTUxUcmFuc2Zvcm0gPSBudWxsO1xuXG4gIGNvbnN0IHBhZ2VOdW1iZXJEaXJlY3RpdmVIVE1MTm9kZSA9IHBhZ2VOdW1iZXJEaXJlY3RpdmVIVE1MTm9kZUZyb21Ob2RlKG5vZGUpO1xuXG4gIGlmIChwYWdlTnVtYmVyRGlyZWN0aXZlSFRNTE5vZGUgIT09IG51bGwpIHtcbiAgICBwYWdlTnVtYmVyRGlyZWN0aXZlSFRNTFRyYW5zZm9ybSA9IFBhZ2VOdW1iZXJEaXJlY3RpdmVIVE1MVHJhbnNmb3JtLmZyb21QYWdlTnVtYmVyRGlyZWN0aXZlSFRNTE5vZGUocGFnZU51bWJlckRpcmVjdGl2ZUhUTUxOb2RlKTtcblxuICAgIHBhZ2VOdW1iZXJEaXJlY3RpdmVIVE1MVHJhbnNmb3JtLnJlbW92ZSgpO1xuICB9XG5cbiAgcmV0dXJuIHBhZ2VOdW1iZXJEaXJlY3RpdmVIVE1MVHJhbnNmb3JtO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlTmVzdGVkRm9vdG5vdGVMaW5rSFRNTE5vZGVzKG5vZGUpIHtcbiAgY29uc3QgbmVzdGVkRm9vdG5vdGVMaW5rSFRNTE5vZGVzID0gbmVzdGVkRm9vdG5vdGVMaW5rSFRNTE5vZGVzRnJvbU5vZGUobm9kZSksXG4gICAgICAgIG5lc3RlZEZvb3Rub3RlTGlua0hUTUxUcmFuc2Zvcm1zID0gbmVzdGVkRm9vdG5vdGVMaW5rSFRNTFRyYW5zZm9ybXNGcm9tTmVzdGVkRm9vdG5vdGVMaW5rSFRNTE5vZGVzKG5lc3RlZEZvb3Rub3RlTGlua0hUTUxOb2Rlcyk7XG5cbiAgbmVzdGVkRm9vdG5vdGVMaW5rSFRNTFRyYW5zZm9ybXMuZm9yRWFjaCgobmVzdGVkRm9vdG5vdGVMaW5rSFRNTFRyYW5zZm9ybSkgPT4ge1xuICAgIG5lc3RlZEZvb3Rub3RlTGlua0hUTUxUcmFuc2Zvcm0ucmVtb3ZlKCk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGluZUhUTUxUcmFuc2Zvcm1zRnJvbUZvb3Rub3RlSFRNTFRyYW5zZm9ybXMoZm9vdG5vdGVIVE1MVHJhbnNmb3Jtcykge1xuICBjb25zdCBsaW5lSFRNTFRyYW5zZm9ybXMgPSBmb290bm90ZUhUTUxUcmFuc2Zvcm1zLm1hcCgoZm9vdG5vdGVIVE1MVHJhbnNmb3JtKSA9PiB7XG4gICAgY29uc3QgbGluZUhUTUxUcmFuc2Zvcm0gPSBMaW5lSFRNTFRyYW5zZm9ybS5mcm9tRm9vdG5vdGVIVE1MVHJhbnNmb3JtKGZvb3Rub3RlSFRNTFRyYW5zZm9ybSk7XG5cbiAgICByZXR1cm4gbGluZUhUTUxUcmFuc2Zvcm07XG4gIH0pO1xuXG4gIHJldHVybiBsaW5lSFRNTFRyYW5zZm9ybXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb290bm90ZUl0ZW1IVE1MVHJhbnNmb3Jtc0Zyb21MaW5lSFRNTFRyYW5zZm9ybXMobGluZUhUTUxUcmFuc2Zvcm1zLCBpZGVudGlmaWVyTWFwLCBzdGFydCkge1xuICBjb25zdCBudW1iZXJzID0gT2JqZWN0LnZhbHVlcyhpZGVudGlmaWVyTWFwKSxcbiAgICAgICAgaWRlbnRpZmllcnMgPSBPYmplY3Qua2V5cyhpZGVudGlmaWVyTWFwKSxcbiAgICAgICAgZm9vdG5vdGVJdGVtSFRNTFRyYW5zZm9ybXMgPSBsaW5lSFRNTFRyYW5zZm9ybXMubWFwKChsaW5lSFRNTFRyYW5zZm9ybSwgaW5kZXgpID0+IHtcbiAgICAgICAgICBjb25zdCBudW1iZXIgPSBzdGFydCArIGluZGV4O1xuXG4gICAgICAgICAgaW5kZXggPSBudW1iZXJzLmluZGV4T2YobnVtYmVyKTtcblxuICAgICAgICAgIGNvbnN0IGlkZW50aWZpZXIgPSBpZGVudGlmaWVyc1tpbmRleF0sXG4gICAgICAgICAgICAgICAgZm9vdG5vdGVJdGVtSFRNTFRyYW5zZm9ybSA9IEZvb3Rub3RlSXRlbUhUTUxUcmFuc2Zvcm0uZnJvbUxpbmVUTUxUcmFuc2Zvcm1BbmRJZGVudGlmaWVyKGxpbmVIVE1MVHJhbnNmb3JtLCBpZGVudGlmaWVyKTtcblxuICAgICAgICAgIHJldHVybiBmb290bm90ZUl0ZW1IVE1MVHJhbnNmb3JtO1xuICAgICAgICB9KTtcblxuICByZXR1cm4gZm9vdG5vdGVJdGVtSFRNTFRyYW5zZm9ybXM7XG59XG5cbmZ1bmN0aW9uIGZvb3Rub3RlSFRNTFRyYW5zZm9ybXNGcm9tRm9vdG5vdGVIVE1MTm9kZXMoZm9vdG5vdGVIVE1MTm9kZXMpIHtcbiAgY29uc3QgZm9vdG5vdGVIVE1MVHJhbnNmb3JtcyA9IGZvb3Rub3RlSFRNTE5vZGVzLm1hcCgoZm9vdG5vdGVIVE1MTm9kZSkgPT4ge1xuICAgIGNvbnN0IGZvb3Rub3RlSFRNTFRyYW5zZm9ybSA9IEZvb3Rub3RlSFRNTFRyYW5zZm9ybS5mcm9tRm9vdG5vdGVIVE1MTm9kZShmb290bm90ZUhUTUxOb2RlKTtcblxuICAgIHJldHVybiBmb290bm90ZUhUTUxUcmFuc2Zvcm07XG4gIH0pO1xuXG4gIHJldHVybiBmb290bm90ZUhUTUxUcmFuc2Zvcm1zO1xufVxuXG5mdW5jdGlvbiBmb290bm90ZUxpbmtIVE1MVHJhbnNmb3Jtc0Zyb21Gb290bm90ZUxpbmtIVE1MTm9kZXMoZm9vdG5vdGVMaW5rSFRNTE5vZGVzKSB7XG4gIGNvbnN0IGZvb3Rub3RlTGlua0hUTUxUcmFuc2Zvcm1zID0gZm9vdG5vdGVMaW5rSFRNTE5vZGVzLm1hcCgoZm9vdG5vdGVMaW5rSFRNTE5vZGUpID0+IHtcbiAgICBjb25zdCBmb290bm90ZUxpbmtIVE1MVHJhbnNmb3JtID0gRm9vdG5vdGVMaW5rSFRNTFRyYW5zZm9ybS5mcm9tRm9vdG5vdGVMaW5rSFRNTE5vZGUoZm9vdG5vdGVMaW5rSFRNTE5vZGUpO1xuXG4gICAgcmV0dXJuIGZvb3Rub3RlTGlua0hUTUxUcmFuc2Zvcm07XG4gIH0pO1xuXG4gIHJldHVybiBmb290bm90ZUxpbmtIVE1MVHJhbnNmb3Jtcztcbn1cblxuZnVuY3Rpb24gbmVzdGVkRm9vdG5vdGVMaW5rSFRNTFRyYW5zZm9ybXNGcm9tTmVzdGVkRm9vdG5vdGVMaW5rSFRNTE5vZGVzKG5lc3RlZEZvb3Rub3RlTGlua0hUTUxOb2Rlcykge1xuICBjb25zdCBuZXN0ZWRGb290bm90ZUxpbmtIVE1MVHJhbnNmb3JtcyA9IG5lc3RlZEZvb3Rub3RlTGlua0hUTUxOb2Rlcy5tYXAoKG5lc3RlZEZvb3Rub3RlTGlua0hUTUxOb2RlKSA9PiB7XG4gICAgY29uc3QgbmVzdGVkRm9vdG5vdGVMaW5rSFRNTFRyYW5zZm9ybSA9IE5lc3RlZEZvb3Rub3RlTGlua0hUTUxUcmFuc2Zvcm0uZnJvbU5lc3RlZEZvb3Rub3RlTGlua0hUTUxOb2RlKG5lc3RlZEZvb3Rub3RlTGlua0hUTUxOb2RlKTtcblxuICAgIHJldHVybiBuZXN0ZWRGb290bm90ZUxpbmtIVE1MVHJhbnNmb3JtO1xuICB9KTtcblxuICByZXR1cm4gbmVzdGVkRm9vdG5vdGVMaW5rSFRNTFRyYW5zZm9ybXM7XG59XG4iXSwibmFtZXMiOlsiYWRkRm9vdG5vdGVIVE1MTm9kZXMiLCJmb290bm90ZUl0ZW1IVE1MVHJhbnNmb3Jtc0Zyb21MaW5lSFRNTFRyYW5zZm9ybXMiLCJncm91cEhUTUxOb2RlcyIsImxpbmVIVE1MVHJhbnNmb3Jtc0Zyb21Gb290bm90ZUhUTUxUcmFuc2Zvcm1zIiwibnVtYmVyRm9vdG5vdGVMaW5rSFRNTE5vZGVzIiwicGFnaW5hdGVHcm91cGVkSFRNTE5vZGVzIiwicmVtb3ZlRm9vdG5vdGVIVE1MTm9kZXMiLCJyZW1vdmVGb290bm90ZXNEaXJlY3RpdmVIVE1MTm9kZSIsInJlbW92ZUhUTUxOb2RlcyIsInJlbW92ZU5lc3RlZEZvb3Rub3RlTGlua0hUTUxOb2RlcyIsInJlbW92ZVBhZ2VOdW1iZXJEaXJlY3RpdmVIVE1MTm9kZSIsImJhY2t3YXJkc0ZvckVhY2giLCJhcnJheVV0aWxpdGllcyIsImh0bWxOb2RlcyIsImdyb3VwZWRIVE1MTm9kZXNBcnJheSIsImdyb3VwZWRIVE1MTm9kZXMiLCJmb3JFYWNoIiwiaHRtbE5vZGUiLCJodG1sTm9kZUZvb3Rub3RlSFRNTE5vZGUiLCJGb290bm90ZUhUTUxOb2RlIiwiZ3JvdXBlZEhUTUxOb2RlTGVuZ3RoIiwibGVuZ3RoIiwicHVzaCIsImdyb3VwZWRIVE1MTm9kZSIsIm5vZGUiLCJodG1sTm9kZXNGcm9tTm9kZSIsImh0bWxUcmFuc2Zvcm0iLCJIVE1MVHJhbnNmb3JtIiwiZnJvbUhUTUxOb2RlIiwicmVtb3ZlIiwiZm9vdG5vdGVIVE1MVHJhbnNmb3JtcyIsImNvbnRleHQiLCJmb290bm90ZUxpbmtIVE1MTm9kZXMiLCJmb290bm90ZUxpbmtIVE1MTm9kZXNGcm9tTm9kZSIsImZvb3Rub3RlTGlua0hUTUxUcmFuc2Zvcm1zIiwiZm9vdG5vdGVMaW5rSFRNTFRyYW5zZm9ybXNGcm9tRm9vdG5vdGVMaW5rSFRNTE5vZGVzIiwiZm9vdG5vdGVMaW5rSFRNTFRyYW5zZm9ybSIsImlkZW50aWZpZXIiLCJmb290bm90ZUhUTUxUcmFuc2Zvcm0iLCJmaW5kIiwiaWRlbnRpZmllck1hdGNoZXMiLCJtYXRjaElkZW50aWZpZXIiLCJhZGRBZnRlckZvb3Rub3RlTGlua0hUTUxUcmFuc2Zvcm0iLCJmb290bm90ZUhUTUxOb2RlcyIsImZvb3Rub3RlSFRNTE5vZGVzRnJvbU5vZGUiLCJmb290bm90ZUhUTUxUcmFuc2Zvcm1zRnJvbUZvb3Rub3RlSFRNTE5vZGVzIiwicGFnaW5hdGVkSFRNTE5vZGVzQXJyYXkiLCJtYXhpbXVtUGFnZUxpbmVzIiwiREVGQVVMVF9NQVhJTVVNX1BBR0VfTElORVMiLCJwYWdlTGluZXMiLCJwYWdpbmF0ZWRIVE1MTm9kZXMiLCJncm91cExpbmVzIiwicmVkdWNlIiwibGluZXMiLCJwYWdpbmF0ZWRIVE1MTm9kZXNMZW5ndGgiLCJpZGVudGlmaWVyTWFwIiwiaWRlbnRpZmllcnMiLCJPYmplY3QiLCJrZXlzIiwiaWRlbnRpZmllcnNMZW5ndGgiLCJzdGFydCIsImluZGV4IiwibnVtYmVyIiwiZm9vdG5vdGVMaW5rSFRNTE5vZGUiLCJzZXROdW1iZXIiLCJmb290bm90ZXNEaXJlY3RpdmVIVE1MTm9kZSIsImZvb3Rub3Rlc0RpcmVjdGl2ZUhUTUxOb2RlRnJvbU5vZGUiLCJmb290bm90ZXNEaXJlY3RpdmVIVE1MVHJhbnNmb3JtIiwiRm9vdG5vdGVzRGlyZWN0aXZlSFRNTFRyYW5zZm9ybSIsImZyb21Gb290bm90ZXNEaXJlY3RpdmVIVE1MTm9kZSIsInBhZ2VOdW1iZXJEaXJlY3RpdmVIVE1MVHJhbnNmb3JtIiwicGFnZU51bWJlckRpcmVjdGl2ZUhUTUxOb2RlIiwicGFnZU51bWJlckRpcmVjdGl2ZUhUTUxOb2RlRnJvbU5vZGUiLCJQYWdlTnVtYmVyRGlyZWN0aXZlSFRNTFRyYW5zZm9ybSIsImZyb21QYWdlTnVtYmVyRGlyZWN0aXZlSFRNTE5vZGUiLCJuZXN0ZWRGb290bm90ZUxpbmtIVE1MTm9kZXMiLCJuZXN0ZWRGb290bm90ZUxpbmtIVE1MTm9kZXNGcm9tTm9kZSIsIm5lc3RlZEZvb3Rub3RlTGlua0hUTUxUcmFuc2Zvcm1zIiwibmVzdGVkRm9vdG5vdGVMaW5rSFRNTFRyYW5zZm9ybXNGcm9tTmVzdGVkRm9vdG5vdGVMaW5rSFRNTE5vZGVzIiwibmVzdGVkRm9vdG5vdGVMaW5rSFRNTFRyYW5zZm9ybSIsImxpbmVIVE1MVHJhbnNmb3JtcyIsIm1hcCIsImxpbmVIVE1MVHJhbnNmb3JtIiwiTGluZUhUTUxUcmFuc2Zvcm0iLCJmcm9tRm9vdG5vdGVIVE1MVHJhbnNmb3JtIiwibnVtYmVycyIsInZhbHVlcyIsImZvb3Rub3RlSXRlbUhUTUxUcmFuc2Zvcm1zIiwiaW5kZXhPZiIsImZvb3Rub3RlSXRlbUhUTUxUcmFuc2Zvcm0iLCJGb290bm90ZUl0ZW1IVE1MVHJhbnNmb3JtIiwiZnJvbUxpbmVUTUxUcmFuc2Zvcm1BbmRJZGVudGlmaWVyIiwiZm9vdG5vdGVIVE1MTm9kZSIsIkZvb3Rub3RlSFRNTFRyYW5zZm9ybSIsImZyb21Gb290bm90ZUhUTUxOb2RlIiwiRm9vdG5vdGVMaW5rSFRNTFRyYW5zZm9ybSIsImZyb21Gb290bm90ZUxpbmtIVE1MTm9kZSIsIm5lc3RlZEZvb3Rub3RlTGlua0hUTUxOb2RlIiwiTmVzdGVkRm9vdG5vdGVMaW5rSFRNTFRyYW5zZm9ybSIsImZyb21OZXN0ZWRGb290bm90ZUxpbmtIVE1MTm9kZSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7O1FBb0VnQkE7ZUFBQUE7O1FBOElBQztlQUFBQTs7UUExTEFDO2VBQUFBOztRQWdMQUM7ZUFBQUE7O1FBMURBQztlQUFBQTs7UUEzQ0FDO2VBQUFBOztRQVhBQztlQUFBQTs7UUE2RUFDO2VBQUFBOztRQTdHQUM7ZUFBQUE7O1FBdUlBQztlQUFBQTs7UUFkQUM7ZUFBQUE7Ozt5QkEvS2U7MkRBRUw7K0RBQ0c7MkRBQ0M7Z0VBQ0k7Z0VBQ0k7Z0VBQ0E7cUVBQ007Z0VBQ0E7aUVBQ0M7eUJBRUY7cUJBTVM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRXBELElBQU0sQUFBRUMsbUJBQXFCQyx5QkFBYyxDQUFuQ0Q7QUFFRCxTQUFTVCxlQUFlVyxTQUFTO0lBQ3RDLElBQU1DLHdCQUF3QixFQUFFO0lBRWhDLElBQUlDLG1CQUFtQixFQUFFO0lBRXpCRixVQUFVRyxPQUFPLENBQUMsU0FBQ0M7UUFDakIsSUFBTUMsMkJBQTRCRCxBQUFRLFlBQVJBLFVB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