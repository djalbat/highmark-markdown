"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    footnoteItemHTMLTransformsFromLineHTMLTransforms: function() {
        return footnoteItemHTMLTransformsFromLineHTMLTransforms;
    },
    groupHTMLNodes: function() {
        return groupHTMLNodes;
    },
    lineHTMLTransformsFromFootnoteHTMLTransforms: function() {
        return lineHTMLTransformsFromFootnoteHTMLTransforms;
    },
    numberFootnoteLinkHTMLNodes: function() {
        return numberFootnoteLinkHTMLNodes;
    },
    paginateGroupedHTMLNodes: function() {
        return paginateGroupedHTMLNodes;
    },
    removeFootnoteHTMLNodes: function() {
        return removeFootnoteHTMLNodes;
    },
    removeFootnotesDirectiveHTMLNode: function() {
        return removeFootnotesDirectiveHTMLNode;
    },
    removeHTMLNodes: function() {
        return removeHTMLNodes;
    },
    removeNestedFootnoteLinkHTMLNodes: function() {
        return removeNestedFootnoteLinkHTMLNodes;
    },
    removePageNumberDirectiveHTMLNode: function() {
        return removePageNumberDirectiveHTMLNode;
    },
    reorderFootnoteHTMLNodes: function() {
        return reorderFootnoteHTMLNodes;
    }
});
var _necessary = require("necessary");
var _html = /*#__PURE__*/ _interop_require_default(require("../transform/html"));
var _footnote = /*#__PURE__*/ _interop_require_default(require("../node/html/footnote"));
var _line = /*#__PURE__*/ _interop_require_default(require("../transform/html/line"));
var _footnote1 = /*#__PURE__*/ _interop_require_default(require("../transform/html/footnote"));
var _footnoteItem = /*#__PURE__*/ _interop_require_default(require("../transform/html/footnoteItem"));
var _footnoteLink = /*#__PURE__*/ _interop_require_default(require("../transform/html/footnoteLink"));
var _nestedFootnoteLink = /*#__PURE__*/ _interop_require_default(require("../transform/html/nestedFootnoteLink"));
var _footnotes = /*#__PURE__*/ _interop_require_default(require("../transform/html/directive/footnotes"));
var _pageNumber = /*#__PURE__*/ _interop_require_default(require("../transform/html/directive/pageNumber"));
var _constants = require("../constants");
var _html1 = require("../utilities/html");
function _array_like_to_array(arr, len) {
    if (len == null || len > arr.length) len = arr.length;
    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];
    return arr2;
}
function _array_without_holes(arr) {
    if (Array.isArray(arr)) return _array_like_to_array(arr);
}
function _instanceof(left, right) {
    if (right != null && typeof Symbol !== "undefined" && right[Symbol.hasInstance]) {
        return !!right[Symbol.hasInstance](left);
    } else {
        return left instanceof right;
    }
}
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _iterable_to_array(iter) {
    if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);
}
function _non_iterable_spread() {
    throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function _to_consumable_array(arr) {
    return _array_without_holes(arr) || _iterable_to_array(arr) || _unsupported_iterable_to_array(arr) || _non_iterable_spread();
}
function _unsupported_iterable_to_array(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _array_like_to_array(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(n);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _array_like_to_array(o, minLen);
}
var backwardsForEach = _necessary.arrayUtilities.backwardsForEach;
function groupHTMLNodes(htmlNodes) {
    var groupedHTMLNodesArray = [];
    var groupedHTMLNodes = [];
    htmlNodes.forEach(function(htmlNode) {
        var htmlNodeFootnoteHTMLNode = _instanceof(htmlNode, _footnote.default);
        if (!htmlNodeFootnoteHTMLNode) {
            var groupedHTMLNodeLength = groupedHTMLNodes.length;
            if (groupedHTMLNodeLength > 0) {
                groupedHTMLNodesArray.push(groupedHTMLNodes);
                groupedHTMLNodes = [];
            }
        }
        var groupedHTMLNode = htmlNode; ///
        groupedHTMLNodes.push(groupedHTMLNode);
    });
    var groupedHTMLNodeLength = groupedHTMLNodes.length;
    if (groupedHTMLNodeLength) {
        groupedHTMLNodesArray.push(groupedHTMLNodes);
    }
    return groupedHTMLNodesArray;
}
function removeHTMLNodes(node) {
    var htmlNodes = (0, _html1.htmlNodesFromNode)(node);
    htmlNodes.forEach(function(htmlNode) {
        var htmlTransform = _html.default.fromHTNLNOde(htmlNode);
        htmlTransform.remove();
    });
    return htmlNodes;
}
function removeFootnoteHTMLNodes(footnoteHTMLNodes) {
    var footnoteHTMLTransforms = footnoteHTMLTransformsFromFootnoteHTMLNodes(footnoteHTMLNodes);
    footnoteHTMLTransforms.forEach(function(footnoteHTMLTransform) {
        footnoteHTMLTransform.remove();
    });
    return footnoteHTMLTransforms;
}
function paginateGroupedHTMLNodes(groupedHTMLNodesArray, context) {
    var paginatedHTMLNodesArray = [];
    var _context_maximumPageLines = context.maximumPageLines, maximumPageLines = _context_maximumPageLines === void 0 ? _constants.DEFAULT_MAXIMUM_PAGE_LINES : _context_maximumPageLines;
    var pageLines = 0, paginatedHTMLNodes = [];
    groupedHTMLNodesArray.forEach(function(groupedHTMLNodes) {
        var _paginatedHTMLNodes;
        var groupLines = groupedHTMLNodes.reduce(function(groupLines, groupedHTMLNode) {
            var lines = groupedHTMLNode.lines(context);
            groupLines += lines;
            return groupLines;
        }, 0);
        var paginatedHTMLNodesLength = paginatedHTMLNodes.length;
        if (paginatedHTMLNodesLength > 0) {
            if (pageLines + groupLines > maximumPageLines) {
                paginatedHTMLNodesArray.push(paginatedHTMLNodes);
                pageLines = 0;
                paginatedHTMLNodes = [];
            }
        }
        (_paginatedHTMLNodes = paginatedHTMLNodes).push.apply(_paginatedHTMLNodes, _to_consumable_array(groupedHTMLNodes));
        pageLines += groupLines;
    });
    var paginatedHTMLNodesLength = paginatedHTMLNodes.length;
    if (paginatedHTMLNodesLength) {
        paginatedHTMLNodesArray.push(paginatedHTMLNodes);
    }
    return paginatedHTMLNodesArray;
}
function reorderFootnoteHTMLNodes(footnoteLinkHTMLNodes, footnoteHTMLTransforms, context) {
    var footnoteLinkHTMLTransforms = footnoteLinkHTMLTransformsFromFootnoteLinkHTMLNodes(footnoteLinkHTMLNodes);
    backwardsForEach(footnoteLinkHTMLTransforms, function(footnoteLinkHTMLTransform) {
        var identifier = footnoteLinkHTMLTransform.identifier(context), footnoteHTMLTransform = footnoteHTMLTransforms.find(function(footnoteHTMLTransform) {
            var identifierMatches = footnoteHTMLTransform.matchIdentifier(identifier, context);
            if (identifierMatches) {
                return true;
            }
        }) || null;
        if (footnoteHTMLTransform !== null) {
            footnoteHTMLTransform.addAfterFootnoteLinkHTMLTransform(footnoteLinkHTMLTransform);
        }
    });
}
function numberFootnoteLinkHTMLNodes(footnoteHTMLNodes, footnoteLinkHTMLNodes, identifierMap, context) {
    var identifiers = Object.keys(identifierMap), identifiersLength = identifiers.length, start = identifiersLength + 1;
    footnoteHTMLNodes.forEach(function(footnoteHTMLNode, index) {
        var identifier = footnoteHTMLNode.identifier(context), number = start + index;
        identifierMap[identifier] = number;
    });
    footnoteLinkHTMLNodes.forEach(function(footnoteLinkHTMLNode) {
        var identifier = footnoteLinkHTMLNode.identifier(context), number = identifierMap[identifier];
        footnoteLinkHTMLNode.setNumber(number);
    });
    return start;
}
function removeFootnotesDirectiveHTMLNode(footnotesDirectiveHTMLNode) {
    var footnotesDirectiveHTMLTransform = _footnotes.default.fromFootnotesDirectiveHTMLNode(footnotesDirectiveHTMLNode);
    footnotesDirectiveHTMLTransform.remove();
}
function removePageNumberDirectiveHTMLNode(node) {
    var pageNumbers = false;
    var pageNumberDirectiveHTMLNode = (0, _html1.pageNumberDirectiveHTMLNodeFromNode)(node);
    if (pageNumberDirectiveHTMLNode !== null) {
        var pageNumberDirectiveHTNLTransform = _pageNumber.default.fromPageNumberDirectiveHTMLNode(pageNumberDirectiveHTMLNode);
        pageNumberDirectiveHTNLTransform.remove();
        pageNumbers = true;
    }
    return pageNumbers;
}
function removeNestedFootnoteLinkHTMLNodes(node) {
    var nestedFootnoteLinkHTMLNodes = (0, _html1.nestedFootnoteLinkHTMLNodesFromNode)(node), nestedFootnoteLinkHTMLTransforms = nestedFootnoteLinkHTMLTransformsFromNestedFootnoteLinkHTMLNodes(nestedFootnoteLinkHTMLNodes);
    nestedFootnoteLinkHTMLTransforms.forEach(function(nestedFootnoteLinkHTMLTransform) {
        nestedFootnoteLinkHTMLTransform.remove();
    });
}
function lineHTMLTransformsFromFootnoteHTMLTransforms(footnoteHTMLTransforms) {
    var lineHTMLTransforms = footnoteHTMLTransforms.map(function(footnoteHTMLTransform) {
        var lineHTMLTransform = _line.default.fromFootnoteHTMLTransform(footnoteHTMLTransform);
        return lineHTMLTransform;
    });
    return lineHTMLTransforms;
}
function footnoteItemHTMLTransformsFromLineHTMLTransforms(lineHTMLTransforms, identifierMap, start) {
    var numbers = Object.values(identifierMap), identifiers = Object.keys(identifierMap), footnoteItemHTMLTransforms = lineHTMLTransforms.map(function(lineHTMLTransform, index) {
        var number = start + index;
        index = numbers.indexOf(number);
        var identifier = identifiers[index], footnoteItemHTMLTransform = _footnoteItem.default.fromLineTMLTransformAndIdentifier(lineHTMLTransform, identifier);
        return footnoteItemHTMLTransform;
    });
    return footnoteItemHTMLTransforms;
}
function footnoteHTMLTransformsFromFootnoteHTMLNodes(footnoteHTMLNodes) {
    var footnoteHTMLTransforms = footnoteHTMLNodes.map(function(footnoteHTMLNode) {
        var footnoteHTMLTransform = _footnote1.default.fromFootnoteHTMLNode(footnoteHTMLNode);
        return footnoteHTMLTransform;
    });
    return footnoteHTMLTransforms;
}
function footnoteLinkHTMLTransformsFromFootnoteLinkHTMLNodes(footnoteLinkHTMLNodes) {
    var footnoteLinkHTMLTransforms = footnoteLinkHTMLNodes.map(function(footnoteLinkHTMLNode) {
        var footnoteLinkHTMLTransform = _footnoteLink.default.fromFootnoteLinkHTMLNode(footnoteLinkHTMLNode);
        return footnoteLinkHTMLTransform;
    });
    return footnoteLinkHTMLTransforms;
}
function nestedFootnoteLinkHTMLTransformsFromNestedFootnoteLinkHTMLNodes(nestedFootnoteLinkHTMLNodes) {
    var nestedFootnoteLinkHTMLTransforms = nestedFootnoteLinkHTMLNodes.map(function(nestedFootnoteLinkHTMLNode) {
        var nestedFootnoteLinkHTMLTransform = _nestedFootnoteLink.default.fromNestedFootnoteLinkHTMLNode(nestedFootnoteLinkHTMLNode);
        return nestedFootnoteLinkHTMLTransform;
    });
    return nestedFootnoteLinkHTMLTransforms;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsaXRpZXMvZGl2aXNpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCB7IGFycmF5VXRpbGl0aWVzIH0gZnJvbSBcIm5lY2Vzc2FyeVwiO1xuXG5pbXBvcnQgSFRNTFRyYW5zZm9ybSBmcm9tIFwiLi4vdHJhbnNmb3JtL2h0bWxcIjtcbmltcG9ydCBGb290bm90ZUhUTUxOb2RlIGZyb20gXCIuLi9ub2RlL2h0bWwvZm9vdG5vdGVcIjtcbmltcG9ydCBMaW5lSFRNTFRyYW5zZm9ybSBmcm9tIFwiLi4vdHJhbnNmb3JtL2h0bWwvbGluZVwiO1xuaW1wb3J0IEZvb3Rub3RlSFRNTFRyYW5zZm9ybSBmcm9tIFwiLi4vdHJhbnNmb3JtL2h0bWwvZm9vdG5vdGVcIjtcbmltcG9ydCBGb290bm90ZUl0ZW1IVE1MVHJhbnNmb3JtIGZyb20gXCIuLi90cmFuc2Zvcm0vaHRtbC9mb290bm90ZUl0ZW1cIjtcbmltcG9ydCBGb290bm90ZUxpbmtIVE1MVHJhbnNmb3JtIGZyb20gXCIuLi90cmFuc2Zvcm0vaHRtbC9mb290bm90ZUxpbmtcIjtcbmltcG9ydCBOZXN0ZWRGb290bm90ZUxpbmtIVE1MVHJhbnNmb3JtIGZyb20gXCIuLi90cmFuc2Zvcm0vaHRtbC9uZXN0ZWRGb290bm90ZUxpbmtcIjtcbmltcG9ydCBGb290bm90ZXNEaXJlY3RpdmVIVE1MVHJhbnNmb3JtIGZyb20gXCIuLi90cmFuc2Zvcm0vaHRtbC9kaXJlY3RpdmUvZm9vdG5vdGVzXCI7XG5pbXBvcnQgUGFnZU51bWJlckRpcmVjdGl2ZUhUTUxUcmFuc2Zvcm0gZnJvbSBcIi4uL3RyYW5zZm9ybS9odG1sL2RpcmVjdGl2ZS9wYWdlTnVtYmVyXCI7XG5cbmltcG9ydCB7IERFRkFVTFRfTUFYSU1VTV9QQUdFX0xJTkVTIH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgaHRtbE5vZGVzRnJvbU5vZGUsIG5lc3RlZEZvb3Rub3RlTGlua0hUTUxOb2Rlc0Zyb21Ob2RlLCBwYWdlTnVtYmVyRGlyZWN0aXZlSFRNTE5vZGVGcm9tTm9kZSB9IGZyb20gXCIuLi91dGlsaXRpZXMvaHRtbFwiO1xuXG5jb25zdCB7IGJhY2t3YXJkc0ZvckVhY2ggfSA9IGFycmF5VXRpbGl0aWVzO1xuXG5leHBvcnQgZnVuY3Rpb24gZ3JvdXBIVE1MTm9kZXMoaHRtbE5vZGVzKSB7XG4gIGNvbnN0IGdyb3VwZWRIVE1MTm9kZXNBcnJheSA9IFtdO1xuXG4gIGxldCBncm91cGVkSFRNTE5vZGVzID0gW107XG5cbiAgaHRtbE5vZGVzLmZvckVhY2goKGh0bWxOb2RlKSA9PiB7XG4gICAgY29uc3QgaHRtbE5vZGVGb290bm90ZUhUTUxOb2RlID0gKGh0bWxOb2RlIGluc3RhbmNlb2YgRm9vdG5vdGVIVE1MTm9kZSk7XG5cbiAgICBpZiAoIWh0bWxOb2RlRm9vdG5vdGVIVE1MTm9kZSkge1xuICAgICAgY29uc3QgZ3JvdXBlZEhUTUxOb2RlTGVuZ3RoID0gZ3JvdXBlZEhUTUxOb2Rlcy5sZW5ndGg7XG5cbiAgICAgIGlmIChncm91cGVkSFRNTE5vZGVMZW5ndGggPiAwKSB7XG4gICAgICAgIGdyb3VwZWRIVE1MTm9kZXNBcnJheS5wdXNoKGdyb3VwZWRIVE1MTm9kZXMpO1xuXG4gICAgICAgIGdyb3VwZWRIVE1MTm9kZXMgPSBbXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBncm91cGVkSFRNTE5vZGUgPSBodG1sTm9kZTsgLy8vXG5cbiAgICBncm91cGVkSFRNTE5vZGVzLnB1c2goZ3JvdXBlZEhUTUxOb2RlKTtcbiAgfSk7XG5cbiAgY29uc3QgZ3JvdXBlZEhUTUxOb2RlTGVuZ3RoID0gZ3JvdXBlZEhUTUxOb2Rlcy5sZW5ndGg7XG5cbiAgaWYgKGdyb3VwZWRIVE1MTm9kZUxlbmd0aCkge1xuICAgIGdyb3VwZWRIVE1MTm9kZXNBcnJheS5wdXNoKGdyb3VwZWRIVE1MTm9kZXMpO1xuICB9XG5cbiAgcmV0dXJuIGdyb3VwZWRIVE1MTm9kZXNBcnJheTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUhUTUxOb2Rlcyhub2RlKSB7XG4gIGNvbnN0IGh0bWxOb2RlcyA9IGh0bWxOb2Rlc0Zyb21Ob2RlKG5vZGUpO1xuXG4gIGh0bWxOb2Rlcy5mb3JFYWNoKChodG1sTm9kZSkgPT4ge1xuICAgIGNvbnN0IGh0bWxUcmFuc2Zvcm0gPSBIVE1MVHJhbnNmb3JtLmZyb21IVE5MTk9kZShodG1sTm9kZSk7XG5cbiAgICBodG1sVHJhbnNmb3JtLnJlbW92ZSgpO1xuICB9KTtcblxuICByZXR1cm4gaHRtbE5vZGVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRm9vdG5vdGVIVE1MTm9kZXMoZm9vdG5vdGVIVE1MTm9kZXMpIHtcbiAgY29uc3QgZm9vdG5vdGVIVE1MVHJhbnNmb3JtcyA9IGZvb3Rub3RlSFRNTFRyYW5zZm9ybXNGcm9tRm9vdG5vdGVIVE1MTm9kZXMoZm9vdG5vdGVIVE1MTm9kZXMpO1xuXG4gIGZvb3Rub3RlSFRNTFRyYW5zZm9ybXMuZm9yRWFjaCgoZm9vdG5vdGVIVE1MVHJhbnNmb3JtKSA9PiB7XG4gICAgZm9vdG5vdGVIVE1MVHJhbnNmb3JtLnJlbW92ZSgpO1xuICB9KTtcblxuICByZXR1cm4gZm9vdG5vdGVIVE1MVHJhbnNmb3Jtcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhZ2luYXRlR3JvdXBlZEhUTUxOb2Rlcyhncm91cGVkSFRNTE5vZGVzQXJyYXksIGNvbnRleHQpIHtcbiAgY29uc3QgcGFnaW5hdGVkSFRNTE5vZGVzQXJyYXkgPSBbXTtcblxuICBjb25zdCB7IG1heGltdW1QYWdlTGluZXMgPSBERUZBVUxUX01BWElNVU1fUEFHRV9MSU5FUyB9ID0gY29udGV4dDtcblxuICBsZXQgcGFnZUxpbmVzID0gMCxcbiAgICAgIHBhZ2luYXRlZEhUTUxOb2RlcyA9IFtdO1xuXG4gIGdyb3VwZWRIVE1MTm9kZXNBcnJheS5mb3JFYWNoKChncm91cGVkSFRNTE5vZGVzKSA9PiB7XG4gICAgY29uc3QgZ3JvdXBMaW5lcyA9IGdyb3VwZWRIVE1MTm9kZXMucmVkdWNlKChncm91cExpbmVzLCBncm91cGVkSFRNTE5vZGUpID0+IHtcbiAgICAgIGNvbnN0IGxpbmVzID0gZ3JvdXBlZEhUTUxOb2RlLmxpbmVzKGNvbnRleHQpO1xuXG4gICAgICBncm91cExpbmVzICs9IGxpbmVzO1xuXG4gICAgICByZXR1cm4gZ3JvdXBMaW5lcztcbiAgICB9LCAwKTtcblxuICAgIGNvbnN0IHBhZ2luYXRlZEhUTUxOb2Rlc0xlbmd0aCA9IHBhZ2luYXRlZEhUTUxOb2Rlcy5sZW5ndGg7XG5cbiAgICBpZiAocGFnaW5hdGVkSFRNTE5vZGVzTGVuZ3RoID4gMCkge1xuICAgICAgaWYgKHBhZ2VMaW5lcyArIGdyb3VwTGluZXMgPiBtYXhpbXVtUGFnZUxpbmVzKSB7XG4gICAgICAgIHBhZ2luYXRlZEhUTUxOb2Rlc0FycmF5LnB1c2gocGFnaW5hdGVkSFRNTE5vZGVzKTtcblxuICAgICAgICBwYWdlTGluZXMgPSAwO1xuXG4gICAgICAgIHBhZ2luYXRlZEhUTUxOb2RlcyA9IFtdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHBhZ2luYXRlZEhUTUxOb2Rlcy5wdXNoKC4uLmdyb3VwZWRIVE1MTm9kZXMpO1xuXG4gICAgcGFnZUxpbmVzICs9IGdyb3VwTGluZXM7XG4gIH0pO1xuXG4gIGNvbnN0IHBhZ2luYXRlZEhUTUxOb2Rlc0xlbmd0aCA9IHBhZ2luYXRlZEhUTUxOb2Rlcy5sZW5ndGg7XG5cbiAgaWYgKHBhZ2luYXRlZEhUTUxOb2Rlc0xlbmd0aCkge1xuICAgIHBhZ2luYXRlZEhUTUxOb2Rlc0FycmF5LnB1c2gocGFnaW5hdGVkSFRNTE5vZGVzKTtcbiAgfVxuXG4gIHJldHVybiBwYWdpbmF0ZWRIVE1MTm9kZXNBcnJheTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlb3JkZXJGb290bm90ZUhUTUxOb2Rlcyhmb290bm90ZUxpbmtIVE1MTm9kZXMsIGZvb3Rub3RlSFRNTFRyYW5zZm9ybXMsIGNvbnRleHQpIHtcbiAgY29uc3QgZm9vdG5vdGVMaW5rSFRNTFRyYW5zZm9ybXMgPSBmb290bm90ZUxpbmtIVE1MVHJhbnNmb3Jtc0Zyb21Gb290bm90ZUxpbmtIVE1MTm9kZXMoZm9vdG5vdGVMaW5rSFRNTE5vZGVzKTtcblxuICBiYWNrd2FyZHNGb3JFYWNoKGZvb3Rub3RlTGlua0hUTUxUcmFuc2Zvcm1zLCAoZm9vdG5vdGVMaW5rSFRNTFRyYW5zZm9ybSkgPT4ge1xuICAgIGNvbnN0IGlkZW50aWZpZXIgPSBmb290bm90ZUxpbmtIVE1MVHJhbnNmb3JtLmlkZW50aWZpZXIoY29udGV4dCksXG4gICAgICAgICAgZm9vdG5vdGVIVE1MVHJhbnNmb3JtID0gZm9vdG5vdGVIVE1MVHJhbnNmb3Jtcy5maW5kKChmb290bm90ZUhUTUxUcmFuc2Zvcm0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlkZW50aWZpZXJNYXRjaGVzID0gZm9vdG5vdGVIVE1MVHJhbnNmb3JtLm1hdGNoSWRlbnRpZmllcihpZGVudGlmaWVyLCBjb250ZXh0KTtcblxuICAgICAgICAgICAgaWYgKGlkZW50aWZpZXJNYXRjaGVzKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pIHx8IG51bGw7XG5cbiAgICBpZiAoZm9vdG5vdGVIVE1MVHJhbnNmb3JtICE9PSBudWxsKSB7XG4gICAgICBmb290bm90ZUhUTUxUcmFuc2Zvcm0uYWRkQWZ0ZXJGb290bm90ZUxpbmtIVE1MVHJhbnNmb3JtKGZvb3Rub3RlTGlua0hUTUxUcmFuc2Zvcm0pO1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBudW1iZXJGb290bm90ZUxpbmtIVE1MTm9kZXMoZm9vdG5vdGVIVE1MTm9kZXMsIGZvb3Rub3RlTGlua0hUTUxOb2RlcywgaWRlbnRpZmllck1hcCwgY29udGV4dCkge1xuICBjb25zdCBpZGVudGlmaWVycyA9IE9iamVjdC5rZXlzKGlkZW50aWZpZXJNYXApLFxuICAgICAgICBpZGVudGlmaWVyc0xlbmd0aCA9IGlkZW50aWZpZXJzLmxlbmd0aCxcbiAgICAgICAgc3RhcnQgPSBpZGVudGlmaWVyc0xlbmd0aCArIDE7XG5cbiAgZm9vdG5vdGVIVE1MTm9kZXMuZm9yRWFjaCgoZm9vdG5vdGVIVE1MTm9kZSwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBpZGVudGlmaWVyID0gZm9vdG5vdGVIVE1MTm9kZS5pZGVudGlmaWVyKGNvbnRleHQpLFxuICAgICAgICAgIG51bWJlciA9IHN0YXJ0ICsgaW5kZXg7XG5cbiAgICBpZGVudGlmaWVyTWFwW2lkZW50aWZpZXJdID0gbnVtYmVyO1xuICB9KTtcblxuICBmb290bm90ZUxpbmtIVE1MTm9kZXMuZm9yRWFjaCgoZm9vdG5vdGVMaW5rSFRNTE5vZGUpID0+IHtcbiAgICBjb25zdCBpZGVudGlmaWVyID0gZm9vdG5vdGVMaW5rSFRNTE5vZGUuaWRlbnRpZmllcihjb250ZXh0KSxcbiAgICAgICAgICBudW1iZXIgPSBpZGVudGlmaWVyTWFwW2lkZW50aWZpZXJdO1xuXG4gICAgZm9vdG5vdGVMaW5rSFRNTE5vZGUuc2V0TnVtYmVyKG51bWJlcik7XG4gIH0pXG5cbiAgcmV0dXJuIHN0YXJ0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRm9vdG5vdGVzRGlyZWN0aXZlSFRNTE5vZGUoZm9vdG5vdGVzRGlyZWN0aXZlSFRNTE5vZGUpIHtcbiAgY29uc3QgZm9vdG5vdGVzRGlyZWN0aXZlSFRNTFRyYW5zZm9ybSA9IEZvb3Rub3Rlc0RpcmVjdGl2ZUhUTUxUcmFuc2Zvcm0uZnJvbUZvb3Rub3Rlc0RpcmVjdGl2ZUhUTUxOb2RlKGZvb3Rub3Rlc0RpcmVjdGl2ZUhUTUxOb2RlKTtcblxuICBmb290bm90ZXNEaXJlY3RpdmVIVE1MVHJhbnNmb3JtLnJlbW92ZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlUGFnZU51bWJlckRpcmVjdGl2ZUhUTUxOb2RlKG5vZGUpIHtcbiAgbGV0IHBhZ2VOdW1iZXJzID0gZmFsc2U7XG5cbiAgY29uc3QgcGFnZU51bWJlckRpcmVjdGl2ZUhUTUxOb2RlID0gcGFnZU51bWJlckRpcmVjdGl2ZUhUTUxOb2RlRnJvbU5vZGUobm9kZSk7XG5cbiAgaWYgKHBhZ2VOdW1iZXJEaXJlY3RpdmVIVE1MTm9kZSAhPT0gbnVsbCkge1xuICAgIGNvbnN0IHBhZ2VOdW1iZXJEaXJlY3RpdmVIVE5MVHJhbnNmb3JtID0gUGFnZU51bWJlckRpcmVjdGl2ZUhUTUxUcmFuc2Zvcm0uZnJvbVBhZ2VOdW1iZXJEaXJlY3RpdmVIVE1MTm9kZShwYWdlTnVtYmVyRGlyZWN0aXZlSFRNTE5vZGUpO1xuXG4gICAgcGFnZU51bWJlckRpcmVjdGl2ZUhUTkxUcmFuc2Zvcm0ucmVtb3ZlKCk7XG5cbiAgICBwYWdlTnVtYmVycyA9IHRydWU7XG4gIH1cblxuICByZXR1cm4gcGFnZU51bWJlcnM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVOZXN0ZWRGb290bm90ZUxpbmtIVE1MTm9kZXMobm9kZSkge1xuICBjb25zdCBuZXN0ZWRGb290bm90ZUxpbmtIVE1MTm9kZXMgPSBuZXN0ZWRGb290bm90ZUxpbmtIVE1MTm9kZXNGcm9tTm9kZShub2RlKSxcbiAgICAgICAgbmVzdGVkRm9vdG5vdGVMaW5rSFRNTFRyYW5zZm9ybXMgPSBuZXN0ZWRGb290bm90ZUxpbmtIVE1MVHJhbnNmb3Jtc0Zyb21OZXN0ZWRGb290bm90ZUxpbmtIVE1MTm9kZXMobmVzdGVkRm9vdG5vdGVMaW5rSFRNTE5vZGVzKTtcblxuICBuZXN0ZWRGb290bm90ZUxpbmtIVE1MVHJhbnNmb3Jtcy5mb3JFYWNoKChuZXN0ZWRGb290bm90ZUxpbmtIVE1MVHJhbnNmb3JtKSA9PiB7XG4gICAgbmVzdGVkRm9vdG5vdGVMaW5rSFRNTFRyYW5zZm9ybS5yZW1vdmUoKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaW5lSFRNTFRyYW5zZm9ybXNGcm9tRm9vdG5vdGVIVE1MVHJhbnNmb3Jtcyhmb290bm90ZUhUTUxUcmFuc2Zvcm1zKSB7XG4gIGNvbnN0IGxpbmVIVE1MVHJhbnNmb3JtcyA9IGZvb3Rub3RlSFRNTFRyYW5zZm9ybXMubWFwKChmb290bm90ZUhUTUxUcmFuc2Zvcm0pID0+IHtcbiAgICBjb25zdCBsaW5lSFRNTFRyYW5zZm9ybSA9IExpbmVIVE1MVHJhbnNmb3JtLmZyb21Gb290bm90ZUhUTUxUcmFuc2Zvcm0oZm9vdG5vdGVIVE1MVHJhbnNmb3JtKTtcblxuICAgIHJldHVybiBsaW5lSFRNTFRyYW5zZm9ybTtcbiAgfSk7XG5cbiAgcmV0dXJuIGxpbmVIVE1MVHJhbnNmb3Jtcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvb3Rub3RlSXRlbUhUTUxUcmFuc2Zvcm1zRnJvbUxpbmVIVE1MVHJhbnNmb3JtcyhsaW5lSFRNTFRyYW5zZm9ybXMsIGlkZW50aWZpZXJNYXAsIHN0YXJ0KSB7XG4gIGNvbnN0IG51bWJlcnMgPSBPYmplY3QudmFsdWVzKGlkZW50aWZpZXJNYXApLFxuICAgICAgICBpZGVudGlmaWVycyA9IE9iamVjdC5rZXlzKGlkZW50aWZpZXJNYXApLFxuICAgICAgICBmb290bm90ZUl0ZW1IVE1MVHJhbnNmb3JtcyA9IGxpbmVIVE1MVHJhbnNmb3Jtcy5tYXAoKGxpbmVIVE1MVHJhbnNmb3JtLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGNvbnN0IG51bWJlciA9IHN0YXJ0ICsgaW5kZXg7XG5cbiAgICAgICAgICBpbmRleCA9IG51bWJlcnMuaW5kZXhPZihudW1iZXIpO1xuXG4gICAgICAgICAgY29uc3QgaWRlbnRpZmllciA9IGlkZW50aWZpZXJzW2luZGV4XSxcbiAgICAgICAgICAgICAgICBmb290bm90ZUl0ZW1IVE1MVHJhbnNmb3JtID0gRm9vdG5vdGVJdGVtSFRNTFRyYW5zZm9ybS5mcm9tTGluZVRNTFRyYW5zZm9ybUFuZElkZW50aWZpZXIobGluZUhUTUxUcmFuc2Zvcm0sIGlkZW50aWZpZXIpO1xuXG4gICAgICAgICAgcmV0dXJuIGZvb3Rub3RlSXRlbUhUTUxUcmFuc2Zvcm07XG4gICAgICAgIH0pO1xuXG4gIHJldHVybiBmb290bm90ZUl0ZW1IVE1MVHJhbnNmb3Jtcztcbn1cblxuZnVuY3Rpb24gZm9vdG5vdGVIVE1MVHJhbnNmb3Jtc0Zyb21Gb290bm90ZUhUTUxOb2Rlcyhmb290bm90ZUhUTUxOb2Rlcykge1xuICBjb25zdCBmb290bm90ZUhUTUxUcmFuc2Zvcm1zID0gZm9vdG5vdGVIVE1MTm9kZXMubWFwKChmb290bm90ZUhUTUxOb2RlKSA9PiB7XG4gICAgY29uc3QgZm9vdG5vdGVIVE1MVHJhbnNmb3JtID0gRm9vdG5vdGVIVE1MVHJhbnNmb3JtLmZyb21Gb290bm90ZUhUTUxOb2RlKGZvb3Rub3RlSFRNTE5vZGUpO1xuXG4gICAgcmV0dXJuIGZvb3Rub3RlSFRNTFRyYW5zZm9ybTtcbiAgfSk7XG5cbiAgcmV0dXJuIGZvb3Rub3RlSFRNTFRyYW5zZm9ybXM7XG59XG5cbmZ1bmN0aW9uIGZvb3Rub3RlTGlua0hUTUxUcmFuc2Zvcm1zRnJvbUZvb3Rub3RlTGlua0hUTUxOb2Rlcyhmb290bm90ZUxpbmtIVE1MTm9kZXMpIHtcbiAgY29uc3QgZm9vdG5vdGVMaW5rSFRNTFRyYW5zZm9ybXMgPSBmb290bm90ZUxpbmtIVE1MTm9kZXMubWFwKChmb290bm90ZUxpbmtIVE1MTm9kZSkgPT4ge1xuICAgIGNvbnN0IGZvb3Rub3RlTGlua0hUTUxUcmFuc2Zvcm0gPSBGb290bm90ZUxpbmtIVE1MVHJhbnNmb3JtLmZyb21Gb290bm90ZUxpbmtIVE1MTm9kZShmb290bm90ZUxpbmtIVE1MTm9kZSk7XG5cbiAgICByZXR1cm4gZm9vdG5vdGVMaW5rSFRNTFRyYW5zZm9ybTtcbiAgfSk7XG5cbiAgcmV0dXJuIGZvb3Rub3RlTGlua0hUTUxUcmFuc2Zvcm1zO1xufVxuXG5mdW5jdGlvbiBuZXN0ZWRGb290bm90ZUxpbmtIVE1MVHJhbnNmb3Jtc0Zyb21OZXN0ZWRGb290bm90ZUxpbmtIVE1MTm9kZXMobmVzdGVkRm9vdG5vdGVMaW5rSFRNTE5vZGVzKSB7XG4gIGNvbnN0IG5lc3RlZEZvb3Rub3RlTGlua0hUTUxUcmFuc2Zvcm1zID0gbmVzdGVkRm9vdG5vdGVMaW5rSFRNTE5vZGVzLm1hcCgobmVzdGVkRm9vdG5vdGVMaW5rSFRNTE5vZGUpID0+IHtcbiAgICBjb25zdCBuZXN0ZWRGb290bm90ZUxpbmtIVE1MVHJhbnNmb3JtID0gTmVzdGVkRm9vdG5vdGVMaW5rSFRNTFRyYW5zZm9ybS5mcm9tTmVzdGVkRm9vdG5vdGVMaW5rSFRNTE5vZGUobmVzdGVkRm9vdG5vdGVMaW5rSFRNTE5vZGUpO1xuXG4gICAgcmV0dXJuIG5lc3RlZEZvb3Rub3RlTGlua0hUTUxUcmFuc2Zvcm07XG4gIH0pO1xuXG4gIHJldHVybiBuZXN0ZWRGb290bm90ZUxpbmtIVE1MVHJhbnNmb3Jtcztcbn1cbiJdLCJuYW1lcyI6WyJmb290bm90ZUl0ZW1IVE1MVHJhbnNmb3Jtc0Zyb21MaW5lSFRNTFRyYW5zZm9ybXMiLCJncm91cEhUTUxOb2RlcyIsImxpbmVIVE1MVHJhbnNmb3Jtc0Zyb21Gb290bm90ZUhUTUxUcmFuc2Zvcm1zIiwibnVtYmVyRm9vdG5vdGVMaW5rSFRNTE5vZGVzIiwicGFnaW5hdGVHcm91cGVkSFRNTE5vZGVzIiwicmVtb3ZlRm9vdG5vdGVIVE1MTm9kZXMiLCJyZW1vdmVGb290bm90ZXNEaXJlY3RpdmVIVE1MTm9kZSIsInJlbW92ZUhUTUxOb2RlcyIsInJlbW92ZU5lc3RlZEZvb3Rub3RlTGlua0hUTUxOb2RlcyIsInJlbW92ZVBhZ2VOdW1iZXJEaXJlY3RpdmVIVE1MTm9kZSIsInJlb3JkZXJGb290bm90ZUhUTUxOb2RlcyIsImJhY2t3YXJkc0ZvckVhY2giLCJhcnJheVV0aWxpdGllcyIsImh0bWxOb2RlcyIsImdyb3VwZWRIVE1MTm9kZXNBcnJheSIsImdyb3VwZWRIVE1MTm9kZXMiLCJmb3JFYWNoIiwiaHRtbE5vZGUiLCJodG1sTm9kZUZvb3Rub3RlSFRNTE5vZGUiLCJGb290bm90ZUhUTUxOb2RlIiwiZ3JvdXBlZEhUTUxOb2RlTGVuZ3RoIiwibGVuZ3RoIiwicHVzaCIsImdyb3VwZWRIVE1MTm9kZSIsIm5vZGUiLCJodG1sTm9kZXNGcm9tTm9kZSIsImh0bWxUcmFuc2Zvcm0iLCJIVE1MVHJhbnNmb3JtIiwiZnJvbUhUTkxOT2RlIiwicmVtb3ZlIiwiZm9vdG5vdGVIVE1MTm9kZXMiLCJmb290bm90ZUhUTUxUcmFuc2Zvcm1zIiwiZm9vdG5vdGVIVE1MVHJhbnNmb3Jtc0Zyb21Gb290bm90ZUhUTUxOb2RlcyIsImZvb3Rub3RlSFRNTFRyYW5zZm9ybSIsImNvbnRleHQiLCJwYWdpbmF0ZWRIVE1MTm9kZXNBcnJheSIsIm1heGltdW1QYWdlTGluZXMiLCJERUZBVUxUX01BWElNVU1fUEFHRV9MSU5FUyIsInBhZ2VMaW5lcyIsInBhZ2luYXRlZEhUTUxOb2RlcyIsImdyb3VwTGluZXMiLCJyZWR1Y2UiLCJsaW5lcyIsInBhZ2luYXRlZEhUTUxOb2Rlc0xlbmd0aCIsImZvb3Rub3RlTGlua0hUTUxOb2RlcyIsImZvb3Rub3RlTGlua0hUTUxUcmFuc2Zvcm1zIiwiZm9vdG5vdGVMaW5rSFRNTFRyYW5zZm9ybXNGcm9tRm9vdG5vdGVMaW5rSFRNTE5vZGVzIiwiZm9vdG5vdGVMaW5rSFRNTFRyYW5zZm9ybSIsImlkZW50aWZpZXIiLCJmaW5kIiwiaWRlbnRpZmllck1hdGNoZXMiLCJtYXRjaElkZW50aWZpZXIiLCJhZGRBZnRlckZvb3Rub3RlTGlua0hUTUxUcmFuc2Zvcm0iLCJpZGVudGlmaWVyTWFwIiwiaWRlbnRpZmllcnMiLCJPYmplY3QiLCJrZXlzIiwiaWRlbnRpZmllcnNMZW5ndGgiLCJzdGFydCIsImZvb3Rub3RlSFRNTE5vZGUiLCJpbmRleCIsIm51bWJlciIsImZvb3Rub3RlTGlua0hUTUxOb2RlIiwic2V0TnVtYmVyIiwiZm9vdG5vdGVzRGlyZWN0aXZlSFRNTE5vZGUiLCJmb290bm90ZXNEaXJlY3RpdmVIVE1MVHJhbnNmb3JtIiwiRm9vdG5vdGVzRGlyZWN0aXZlSFRNTFRyYW5zZm9ybSIsImZyb21Gb290bm90ZXNEaXJlY3RpdmVIVE1MTm9kZSIsInBhZ2VOdW1iZXJzIiwicGFnZU51bWJlckRpcmVjdGl2ZUhUTUxOb2RlIiwicGFnZU51bWJlckRpcmVjdGl2ZUhUTUxOb2RlRnJvbU5vZGUiLCJwYWdlTnVtYmVyRGlyZWN0aXZlSFROTFRyYW5zZm9ybSIsIlBhZ2VOdW1iZXJEaXJlY3RpdmVIVE1MVHJhbnNmb3JtIiwiZnJvbVBhZ2VOdW1iZXJEaXJlY3RpdmVIVE1MTm9kZSIsIm5lc3RlZEZvb3Rub3RlTGlua0hUTUxOb2RlcyIsIm5lc3RlZEZvb3Rub3RlTGlua0hUTUxOb2Rlc0Zyb21Ob2RlIiwibmVzdGVkRm9vdG5vdGVMaW5rSFRNTFRyYW5zZm9ybXMiLCJuZXN0ZWRGb290bm90ZUxpbmtIVE1MVHJhbnNmb3Jtc0Zyb21OZXN0ZWRGb290bm90ZUxpbmtIVE1MTm9kZXMiLCJuZXN0ZWRGb290bm90ZUxpbmtIVE1MVHJhbnNmb3JtIiwibGluZUhUTUxUcmFuc2Zvcm1zIiwibWFwIiwibGluZUhUTUxUcmFuc2Zvcm0iLCJMaW5lSFRNTFRyYW5zZm9ybSIsImZyb21Gb290bm90ZUhUTUxUcmFuc2Zvcm0iLCJudW1iZXJzIiwidmFsdWVzIiwiZm9vdG5vdGVJdGVtSFRNTFRyYW5zZm9ybXMiLCJpbmRleE9mIiwiZm9vdG5vdGVJdGVtSFRNTFRyYW5zZm9ybSIsIkZvb3Rub3RlSXRlbUhUTUxUcmFuc2Zvcm0iLCJmcm9tTGluZVRNTFRyYW5zZm9ybUFuZElkZW50aWZpZXIiLCJGb290bm90ZUhUTUxUcmFuc2Zvcm0iLCJmcm9tRm9vdG5vdGVIVE1MTm9kZSIsIkZvb3Rub3RlTGlua0hUTUxUcmFuc2Zvcm0iLCJmcm9tRm9vdG5vdGVMaW5rSFRNTE5vZGUiLCJuZXN0ZWRGb290bm90ZUxpbmtIVE1MTm9kZSIsIk5lc3RlZEZvb3Rub3RlTGlua0hUTUxUcmFuc2Zvcm0iLCJmcm9tTmVzdGVkRm9vdG5vdGVMaW5rSFRNTE5vZGUiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7OztJQXNNZ0JBLGdEQUFnRDtlQUFoREE7O0lBbkxBQyxjQUFjO2VBQWRBOztJQXlLQUMsNENBQTRDO2VBQTVDQTs7SUFyREFDLDJCQUEyQjtlQUEzQkE7O0lBOURBQyx3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