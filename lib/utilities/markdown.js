"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "postprocess", {
    enumerable: true,
    get: function() {
        return postprocess;
    }
});
function postprocess(divisionMarkdownNode, context) {
    var pageNumber = 1, divisionMarkdownNodes = [
        divisionMarkdownNode
    ];
    Object.assign(context, {
        pageNumber: pageNumber,
        divisionMarkdownNodes: divisionMarkdownNodes
    });
    divisionMarkdownNode.resolveIncludes(context);
    divisionMarkdownNodes.forEach(function(divisionMarkdownNode) {
        divisionMarkdownNode.resolveEmbeddings(context);
    });
    divisionMarkdownNodes.forEach(function(divisionMarkdownNode) {
        divisionMarkdownNode.paginate(context);
    });
    divisionMarkdownNodes.forEach(function(divisionMarkdownNode) {
        divisionMarkdownNode.createFootnotes(context);
    });
    divisionMarkdownNodes.some(function(divisionMarkdownNode) {
        var contentsCreated = divisionMarkdownNode.createContents(context);
        if (contentsCreated) {
            return true;
        }
    });
    return divisionMarkdownNodes;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsaXRpZXMvbWFya2Rvd24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBwb3N0cHJvY2VzcyhkaXZpc2lvbk1hcmtkb3duTm9kZSwgY29udGV4dCkge1xuICBjb25zdCBwYWdlTnVtYmVyID0gMSxcbiAgICAgICAgZGl2aXNpb25NYXJrZG93bk5vZGVzID0gW1xuICAgICAgICAgIGRpdmlzaW9uTWFya2Rvd25Ob2RlXG4gICAgICAgIF07XG5cbiAgT2JqZWN0LmFzc2lnbihjb250ZXh0LCB7XG4gICAgcGFnZU51bWJlcixcbiAgICBkaXZpc2lvbk1hcmtkb3duTm9kZXNcbiAgfSk7XG5cbiAgZGl2aXNpb25NYXJrZG93bk5vZGUucmVzb2x2ZUluY2x1ZGVzKGNvbnRleHQpO1xuXG4gIGRpdmlzaW9uTWFya2Rvd25Ob2Rlcy5mb3JFYWNoKChkaXZpc2lvbk1hcmtkb3duTm9kZSkgPT4ge1xuICAgIGRpdmlzaW9uTWFya2Rvd25Ob2RlLnJlc29sdmVFbWJlZGRpbmdzKGNvbnRleHQpO1xuICB9KTtcblxuICBkaXZpc2lvbk1hcmtkb3duTm9kZXMuZm9yRWFjaCgoZGl2aXNpb25NYXJrZG93bk5vZGUpID0+IHtcbiAgICBkaXZpc2lvbk1hcmtkb3duTm9kZS5wYWdpbmF0ZShjb250ZXh0KTtcbiAgfSk7XG5cbiAgZGl2aXNpb25NYXJrZG93bk5vZGVzLmZvckVhY2goKGRpdmlzaW9uTWFya2Rvd25Ob2RlKSA9PiB7XG4gICAgZGl2aXNpb25NYXJrZG93bk5vZGUuY3JlYXRlRm9vdG5vdGVzKGNvbnRleHQpO1xuICB9KTtcblxuICBkaXZpc2lvbk1hcmtkb3duTm9kZXMuc29tZSgoZGl2aXNpb25NYXJrZG93bk5vZGUpID0+IHtcbiAgICBjb25zdCBjb250ZW50c0NyZWF0ZWQgPSBkaXZpc2lvbk1hcmtkb3duTm9kZS5jcmVhdGVDb250ZW50cyhjb250ZXh0KTtcblxuICAgIGlmIChjb250ZW50c0NyZWF0ZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGRpdmlzaW9uTWFya2Rvd25Ob2Rlcztcbn1cbiJdLCJuYW1lcyI6WyJwb3N0cHJvY2VzcyIsImRpdmlzaW9uTWFya2Rvd25Ob2RlIiwiY29udGV4dCIsInBhZ2VOdW1iZXIiLCJkaXZpc2lvbk1hcmtkb3duTm9kZXMiLCJPYmplY3QiLCJhc3NpZ24iLCJyZXNvbHZlSW5jbHVkZXMiLCJmb3JFYWNoIiwicmVzb2x2ZUVtYmVkZGluZ3MiLCJwYWdpbmF0ZSIsImNyZWF0ZUZvb3Rub3RlcyIsInNvbWUiLCJjb250ZW50c0NyZWF0ZWQiLCJjcmVhdGVDb250ZW50cyJdLCJyYW5nZU1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsiLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBRWdCQTs7O2VBQUFBOzs7QUFBVCxTQUFTQSxZQUFZQyxvQkFBb0IsRUFBRUMsT0FBTztJQUN2RCxJQUFNQyxhQUFhLEdBQ2JDLHdCQUF3QjtRQUN0Qkg7S0FDRDtJQUVQSSxPQUFPQyxNQUFNLENBQUNKLFNBQVM7UUFDckJDLFlBQUFBO1FBQ0FDLHVCQUFBQTtJQUNGO0lBRUFILHFCQUFxQk0sZUFBZSxDQUFDTDtJQUVyQ0Usc0JBQXNCSSxPQUFPLENBQUMsU0FBQ1A7UUFDN0JBLHFCQUFxQlEsaUJBQWlCLENBQUNQO0lBQ3pDO0lBRUFFLHNCQUFzQkksT0FBTyxDQUFDLFNBQUNQO1FBQzdCQSxxQkFBcUJTLFFBQVEsQ0FBQ1I7SUFDaEM7SUFFQUUsc0JBQXNCSSxPQUFPLENBQUMsU0FBQ1A7UUFDN0JBLHFCQUFxQlUsZUFBZSxDQUFDVDtJQUN2QztJQUVBRSxzQkFBc0JRLElBQUksQ0FBQyxTQUFDWDtRQUMxQixJQUFNWSxrQkFBa0JaLHFCQUFxQmEsY0FBYyxDQUFDWjtRQUU1RCxJQUFJVyxpQkFBaUI7WUFDbkIsT0FBTztRQUNUO0lBQ0Y7SUFFQSxPQUFPVDtBQUNUIn0=